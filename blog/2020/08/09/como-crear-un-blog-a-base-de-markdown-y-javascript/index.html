<!doctype html> <html lang=es> <head> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174920898-1"></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-174920898-1'); </script> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=website property=og:type> <base href=/ > <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.png rel=icon type=image/png> <link href=client/main.393438101.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>C√≥mo crear un blog a base de markdown y JavaScript by Mario Menj√≠var</title><meta content="Seguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas." name=description><meta content=javascript,svelte,blog,markdown,howto name=keywords><meta content=website property=og:type><meta content=https://mariomenjr.com/blog/2020/08/09/como-crear-un-blog-a-base-de-markdown-y-javascript property=og:url><meta content="C√≥mo crear un blog a base de markdown y JavaScript by Mario Menj√≠var" property=og:title><meta content="Seguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas." property=og:description><meta content="https://avatars3.githubusercontent.com/u/1946936?s=460&v=4" property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://mariomenjr.com/blog/2020/08/09/como-crear-un-blog-a-base-de-markdown-y-javascript property=twitter:url><meta content="C√≥mo crear un blog a base de markdown y JavaScript by Mario Menj√≠var" property=twitter:title><meta content="Seguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas." property=twitter:description><meta content="https://avatars3.githubusercontent.com/u/1946936?s=460&v=4" property=twitter:image><noscript id=sapper-head-end></noscript> </head> <body class="box-border antialiased bg-white overflow-x-hidden text-gray-900"> <div id=sapper> <div class="box-border min-h-screen min-w-screen"><div class="flex justify-between flex-col h-100" style=visibility:hidden><div><header class=px-4><div class="container mx-auto mt-2 px-2 py-4 sm:px-1 sm:py-2"><div class="flex flex-row items-center justify-between"><div class=inline-block><a href=/ ><div class="flex flex-row items-center"><img alt=@mariomenjr src="https://avatars3.githubusercontent.com/u/1946936?s=460&v=4" class="rounded-full sm:w-16 w-12"> <div class="flex flex-col ml-3"><span class="font-bold sm:text-xl text-grey-800 text-lg">Mario Menj√≠var</span> <span class="font-light text-grey-600 text-left text-xs">@mariomenjr</span></div></div></a></div> <div class=inline-block><div class="flex flex-row items-center"><a href=https://twitter.com/mariomenjr target=_blank><svg class="text-gray-900 fill-current h-6 w-6" viewBox="0 0 50 50" xmlns=http://www.w3.org/2000/svg><path d="M50.063 10.438a20.57 20.57 0 01-5.91 1.62 10.309 10.309 0
          004.523-5.687 20.648 20.648 0 01-6.531 2.492 10.258 10.258 0
          00-7.504-3.246c-5.68 0-10.286 4.602-10.286 10.281 0 .805.094 1.59.27
          2.344-8.547-.43-16.121-4.523-21.195-10.746a10.243 10.243 0 00-1.39
          5.172c0 3.566 1.812 6.715 4.573 8.562a10.274 10.274 0
          01-4.66-1.289v.13c0 4.984 3.547 9.136 8.246 10.085a10.29 10.29 0
          01-4.644.172c1.312 4.082 5.11 7.063 9.605 7.145A20.613 20.613 0 012.39
          41.87c-.831 0-1.648-.047-2.449-.144a29.053 29.053 0 0015.762
          4.62c18.914 0 29.258-15.667 29.258-29.253
          0-.446-.012-.895-.027-1.332a20.904 20.904 0 005.129-5.325z"></path></svg></a> <span class=w-5></span> <a href=https://linkedin.com/in/mariomenjr target=_blank><svg class="text-gray-900 fill-current h-6 w-6" viewBox="0 0 50 50" xmlns=http://www.w3.org/2000/svg><path d="M41 4H9C6.24 4 4 6.24 4 9v32c0 2.76 2.24 5 5 5h32c2.76 0 5-2.24
          5-5V9c0-2.76-2.24-5-5-5zM17 20v19h-6V20h6zm-6-5.53c0-1.4 1.2-2.47
          3-2.47s2.93 1.07 3 2.47c0 1.4-1.12 2.53-3 2.53-1.8 0-3-1.13-3-2.53zM39
          39h-6V29c0-2-1-4-3.5-4.04h-.08C27 24.96 26 27.02 26
          29v10h-6V20h6v2.56S27.93 20 31.81 20c3.97 0 7.19 2.73 7.19 8.26V39z"></path></svg></a></div></div></div></div></header> <nav class="px-4 border-b mt-2"><div class="container mx-auto"><div class="flex flex-row items-center justify-between"><ul class="flex flex-row items-center space-x-8"><li class="px-2 border-gray-900 py-2 border-b"><a href=/blog class="text-gray-900 font-light hover:text-black text-sm tracking-wide uppercase">blog</a> </li> </ul><ul class="flex flex-row items-center space-x-8"><li class="px-2 border-gray-900 py-2"><a href=/about class="text-gray-900 font-light hover:text-black text-sm tracking-wide uppercase">acerca</a> </li> </ul></div></div></nav></div> <div class="px-4 bg-gray-200"><div class="container mx-auto"><div class="gap-2 grid grid-cols-4"><div class="col-span-4 sm:col-span-3"><div class=box-border><main class=py-8> <p class=c-label-last-updated>√öltima actualizaci√≥n en 8/9/2020, 5:23:17 PM por Mario Menj√≠var</p> <a href="https://twitter.com/share?ref_src=twsrc%5Etfw&text=hola&via=mariomenjr" class=twitter-share-button data-show-count=false>Tweet </a> <article class=c-article><h1 id=c√≥mo-crear-un-blog-a-base-de-markdown-y-javascript>C√≥mo crear un blog a base de markdown y JavaScript</h1> <p>Seguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas.</p> <h2 id=porqu√©>Porqu√©</h2> <p>Otra pregunta que probablemente este en tu cabeza es ¬øPor qu√© markdown y JavaScript? La respuesta es un poco m√°s elaborada. Para empezar, ¬øQu√© es markdown? Seg√∫n Wikipedia: </p> <blockquote> <p>"Markdown es un lenguaje de marcado ligero que trata de conseguir la m√°xima legibilidad y facilidad de publicaci√≥n tanto en su forma de entrada como de salida, inspir√°ndose en muchas convenciones existentes para marcar mensajes de correo electr√≥nico usando texto plano" de <a href=https://es.wikipedia.org/wiki/Markdown>Wikipedia</a>.</p> </blockquote> <p>Al usar markdown para escribir un post, estamos estructurando nuestro contenido sin necesidad de incluir HTML o CSS en el momento. Es decir, nos enfocamos enteramente en lo importante: el texto. Esta simplicidad se ver√° potencializada al incluir <em>Git</em> y <em>Github</em> en la formula, ya que podremos versionar nuestro contenido.</p> <p>Como mencion√©, hay muchas alternativas para lograrlo. Fundamentalmente una p√°gina web no es m√°s que HTML, CSS y JavaScript. Herramientas como <a href=https://jekyllrb.com/ ><em>Jekyll</em></a>, aprovechan esta regla de oro para ayudarte a generar y administrar posts f√°cilmente haciendo uso de markdown. Pero, ¬øQu√© pasa si queremos tomar ventaja de todas las herramientas disponibles en el ecosistema JavaScript que se han establecido en los √∫ltimos 10 a√±os? Para eso tenemos <a href=https://www.gatsbyjs.org/ ><em>Gatsby</em></a>, <a href=https://nextjs.org/ ><em>Next.js</em></a> o <a href=https://sapper.svelte.dev/docs><em>Sapper</em></a>.</p> <p><em>In a nutshell</em>, estos tres frameworks permiten generar sitios est√°ticos haciendo uso de herramientas modernas como React o Svelte. En este post nos centraremos en <em>Sapper</em>.</p> <h2 id=¬øpor-qu√©-sapper>¬øPor qu√© <em>Sapper</em>?</h2> <p>Svelte es el nuevo chico de la cuadra. Su propuesta insignia es mover la reactividad de la UI desde mediadores como el Virtual DOM hacia el lenguaje, o mejor dicho, al compilador, en contraste con React o Vue. Esto aumenta el desempe√±o de las aplicaciones y disminuye el tama√±o del <em>bundle</em>.</p> <p>Puedes echar un vistazo a la <a href=https://www.swyx.io/writing/svelte-static/ >comparativa</a> entre Gatsby y Sapper realizada por <a href=https://twitter.com/swyx>Shawn Wang</a>, un popular desarrollador en <a href=https://egghead.io/ >egghead.io</a>. Se muestra una reducci√≥n del 93% en el tama√±o del <em>bundle</em> con <em>Sapper</em>.</p> <h2 id=setup>Setup</h2> <p>Para instalar Sapper, basta con ejecutar los siguientes comandos:</p> <pre class="overflow-x-auto language-bash"><code>[user@host ~]$ npx degit <span class=hljs-string>"sveltejs/sapper-template#rollup"</span> my-blog
[user@host ~]$ <span class=hljs-built_in>cd</span> my-blog
[user@host my-blog]$ npm install
[user@host my-blog]$ npm run dev</code></pre><p>En el folder del projecto <em>my-blog</em>, nos interesan los siguientes files:</p> <pre class="overflow-x-auto language-text"><code>...
‚îú src
‚îÇ ‚îú routes
| | ‚îú blog
| | | ‚îú _posts.js
| | | ‚îú [slug].json.js
| | | ‚îú [slug].svelte
| | | ‚îú index.json.js
| | | ‚îú index.svelte
...</code></pre><p>De paso creamos el siguiente directorio y archivo:</p> <pre class="overflow-x-auto language-text"><code>...
+ ‚îú content
+ ‚îÇ ‚îú 2020-08-08_hola-mundo.md
  ‚îú src
  ‚îÇ ‚îú routes
...</code></pre><p>Con el siguiente contenido:</p> <pre class="overflow-x-auto language-text"><code>---
author: 'Mario Menj√≠var'
slug: 'hola-mundo'
title: 'Hola Mundo'
timestamp: '2020-08-08T10:23:17.000-07:00'
---

# Hola mundo

Hola mundo.</code></pre><p>Necesitamos instalar los siguientes paquetes:</p> <pre class="overflow-x-auto language-bash"><code>[user@host my-blog]$ npm i gray-matter highlight.js marked</code></pre><p>En mi caso, quiero que los posts est√©n ordenados por su fecha de publicaci√≥n y que esto se refleje en la URL. Tendremos que hacer unos cambios a los siguientes archivos:</p> <pre class="overflow-x-auto language-text"><code>...
- | | | ‚îú [slug].json.js
- | | | ‚îú [slug].svelte
+ | | | ‚îú [...slug].json.js
+ | | | ‚îú [...slug].svelte
...</code></pre><p>Luego, reemplazamos el contenido:</p> <pre class="overflow-x-auto language-javascript"><code><span class=hljs-comment>// src/routes/blog/[...slug].json.js</span>

<span class=hljs-keyword>import</span> fs <span class=hljs-keyword>from</span> <span class=hljs-string>"fs"</span>;
<span class=hljs-keyword>import</span> path <span class=hljs-keyword>from</span> <span class=hljs-string>"path"</span>;
<span class=hljs-keyword>import</span> marked <span class=hljs-keyword>from</span> <span class=hljs-string>"marked"</span>;
<span class=hljs-keyword>import</span> hljs <span class=hljs-keyword>from</span> <span class=hljs-string>"highlight.js"</span>;
<span class=hljs-keyword>import</span> grayMatter <span class=hljs-keyword>from</span> <span class=hljs-string>"gray-matter"</span>;

<span class=hljs-comment>/*
 * Para obtener el contenido del post
 */</span>
<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>getPost</span>(<span class=hljs-params>year, month, day, fileName</span>) </span>{
  <span class=hljs-keyword>return</span> fs.readFileSync(
    path.resolve(<span class=hljs-string>"content"</span>, <span class=hljs-string>`<span class=hljs-subst>${year}</span>-<span class=hljs-subst>${month}</span>-<span class=hljs-subst>${day}</span>_<span class=hljs-subst>${fileName}</span>.md`</span>),
    <span class=hljs-string>"utf-8"</span>
  );
}

<span class=hljs-comment>/*
 * En Sapper, este m√©todo responde a una request a trav√©s del m√©todo GET
 * En nuestro caso, la request de un JSON
 */</span>
<span class=hljs-keyword>export</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>get</span>(<span class=hljs-params>req, res, next</span>) </span>{
  <span class=hljs-comment>// As√≠ es c√≥mo resolvemos una `dynamic route` en Sapper,</span>
  <span class=hljs-comment>// obtenemos cada valor en su variable respectiva</span>
  <span class=hljs-keyword>let</span> [year, month, day, slug] = req.params.slug;

  <span class=hljs-keyword>const</span> postMarkdown = getPost(year, month, day, slug);
  <span class=hljs-keyword>const</span> renderer = <span class=hljs-keyword>new</span> marked.Renderer();

  <span class=hljs-comment>// marked provee una manera de formatear partes espec√≠ficas del markdown</span>
  <span class=hljs-comment>// en este caso, el c√≥digo</span>
  renderer.code = <span class=hljs-function>(<span class=hljs-params>source, lang</span>) =></span> {
    <span class=hljs-keyword>const</span> { <span class=hljs-attr>value</span>: highlighted } = hljs.highlight(lang, source);
    <span class=hljs-keyword>return</span> <span class=hljs-string>`&lt;pre class='language-<span class=hljs-subst>${lang}</span> overflow-x-auto'>&lt;code><span class=hljs-subst>${highlighted}</span>&lt;/code>&lt;/pre>`</span>;
  };

  marked.use({ renderer });

  <span class=hljs-keyword>const</span> { data, content } = grayMatter(postMarkdown);
  <span class=hljs-keyword>const</span> html = marked(content);

  <span class=hljs-keyword>if</span> (html) {
    res.writeHead(<span class=hljs-number>200</span>, { <span class=hljs-string>"Content-Type"</span>: <span class=hljs-string>"application/json"</span> });
    res.end(<span class=hljs-built_in>JSON</span>.stringify({ html, ...data }));
  } <span class=hljs-keyword>else</span> {
    res.writeHead(<span class=hljs-number>404</span>, { <span class=hljs-string>"Content-Type"</span>: <span class=hljs-string>"application/json"</span> });
    res.end(<span class=hljs-built_in>JSON</span>.stringify({ <span class=hljs-attr>message</span>: <span class=hljs-string>`Not found`</span> }));
  }
}</code></pre><pre class="overflow-x-auto language-html"><code><span class=hljs-comment>&lt;!-- src/routes/blog/[...slug].svelte --></span>

<span class=hljs-tag>&lt;<span class=hljs-name>script</span> <span class=hljs-attr>context</span>=<span class=hljs-string>"module"</span>></span><span class=javascript>
  <span class=hljs-comment>/*
   * Este m√©todo representa un paso en el ciclo de vida de un component en Sapper.
   *
   * √önicamente se ejecuta cuando el componente es montado. Aqu√≠ haremos la petici√≥n de nuestro JSON con la informaci√≥n del post
   */</span>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>async</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>preload</span>(<span class=hljs-params>{ params }</span>) </span>{
    <span class=hljs-keyword>let</span> [year, month, day, slug] = params.slug;

    <span class=hljs-keyword>const</span> res = <span class=hljs-keyword>await</span> <span class=hljs-built_in>this</span>.fetch(<span class=hljs-string>`blog/<span class=hljs-subst>${year}</span>/<span class=hljs-subst>${month}</span>/<span class=hljs-subst>${day}</span>/<span class=hljs-subst>${slug}</span>.json`</span>);
    <span class=hljs-keyword>const</span> data = <span class=hljs-keyword>await</span> res.json();

    <span class=hljs-keyword>if</span> (res.status === <span class=hljs-number>200</span>) {
      <span class=hljs-keyword>return</span> { <span class=hljs-attr>post</span>: data };
    } <span class=hljs-keyword>else</span> {
      <span class=hljs-built_in>this</span>.error(res.status, data.message);
    }
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> post;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>svelte:head</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>title</span>></span>{post.title} by {post.author}<span class=hljs-tag>&lt;/<span class=hljs-name>title</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>svelte:head</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>article</span>></span>
  {@html post.html}
<span class=hljs-tag>&lt;/<span class=hljs-name>article</span>></span></code></pre><p>De esta forma se renderizar√° el post. Ya puedes verlo en tu ambiente local yendo a <a href=http://localhost:3000/blog/2020/08/08/hola-mundo>/blog/2020/08/08/hola-mundo</a>.</p> <p>A√∫n hay un peque√±o detalle que debemos cubrir para cumplir con las reglas que <em>Sapper</em> establece si queremos exportar nuestro peque√±o blog como un sitio est√°tico.</p> <blockquote> <p>"... cualquier p√°gina que quieras que sea inclu√≠da en el sitio (est√°tico) exportado debe ser esta ligado con una etiqueta del tipo &lt;a> o a√±adida c√≥mo parametro de la opci√≥n --entry del comando <code>sapper export</code>" de <a href=https://sapper.svelte.dev/docs#How_it_works>Sapper docs</a>.</p> </blockquote> <p>De acuerdo a la documentaci√≥n, debemos incluir elementos <strong>&lt;a></strong> que apunten a nuestras p√°ginas generadas a partir de rutas din√°micas, para que al exportar el sitio estas tambi√©n se incluyan. Por eso programaremos el endpoint <a href=http://localhost:3000/blog>/blog</a>.</p> <pre class="overflow-x-auto language-javascript"><code><span class=hljs-comment>// src/routes/blog/index.json.js</span>

<span class=hljs-keyword>import</span> fs <span class=hljs-keyword>from</span> <span class=hljs-string>"fs"</span>;
<span class=hljs-keyword>import</span> path <span class=hljs-keyword>from</span> <span class=hljs-string>"path"</span>;
<span class=hljs-keyword>import</span> grayMatter <span class=hljs-keyword>from</span> <span class=hljs-string>"gray-matter"</span>;

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>getAllPosts</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-keyword>const</span> posts = fs
    .readdirSync(<span class=hljs-string>"content"</span>)
    .map(<span class=hljs-function>(<span class=hljs-params>fileName</span>) =></span> {
      <span class=hljs-keyword>const</span> post = fs.readFileSync(path.resolve(<span class=hljs-string>"content"</span>, fileName), <span class=hljs-string>"utf-8"</span>);
      <span class=hljs-keyword>return</span> grayMatter(post).data;
    })
    .sort(<span class=hljs-function>(<span class=hljs-params>a, b</span>) =></span> {
      <span class=hljs-keyword>if</span> (b.timestamp &lt; a.timestamp) <span class=hljs-keyword>return</span> <span class=hljs-number>-1</span>;
      <span class=hljs-keyword>if</span> (b.timestamp > a.timestamp) <span class=hljs-keyword>return</span> <span class=hljs-number>1</span>;

      <span class=hljs-keyword>return</span> <span class=hljs-number>0</span>;
    });
  <span class=hljs-keyword>return</span> posts;
}

<span class=hljs-keyword>export</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>get</span>(<span class=hljs-params>req, res</span>) </span>{
  res.writeHead(<span class=hljs-number>200</span>, { <span class=hljs-string>"Content-Type"</span>: <span class=hljs-string>"application/json"</span> });
  res.end(<span class=hljs-built_in>JSON</span>.stringify(getAllPosts()));
}</code></pre><pre class="overflow-x-auto language-html"><code><span class=hljs-comment>&lt;!-- src/routes/blog/index.svelte --></span>

<span class=hljs-tag>&lt;<span class=hljs-name>script</span> <span class=hljs-attr>context</span>=<span class=hljs-string>"module"</span>></span><span class=javascript>
  <span class=hljs-keyword>export</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>preload</span>(<span class=hljs-params>{ params, query }</span>) </span>{
    <span class=hljs-keyword>return</span> <span class=hljs-built_in>this</span>.fetch(<span class=hljs-string>`blog.json`</span>)
      .then(<span class=hljs-function>(<span class=hljs-params>r</span>) =></span> r.json())
      .then(<span class=hljs-function>(<span class=hljs-params>posts</span>) =></span> ({
        <span class=hljs-attr>posts</span>: posts.map(<span class=hljs-function>(<span class=hljs-params>post</span>) =></span> {
          <span class=hljs-keyword>const</span> timestamp = <span class=hljs-keyword>new</span> <span class=hljs-built_in>Date</span>(post.timestamp);
          <span class=hljs-keyword>return</span> {
            ...post,
            timestamp,
            <span class=hljs-attr>date</span>: {
              <span class=hljs-attr>year</span>: timestamp.getFullYear(),
              <span class=hljs-attr>month</span>: <span class=hljs-string>`<span class=hljs-subst>${timestamp.getMonth() + <span class=hljs-number>1</span>}</span>`</span>.padStart(<span class=hljs-number>2</span>, <span class=hljs-string>`0`</span>),
              <span class=hljs-attr>day</span>: <span class=hljs-string>`<span class=hljs-subst>${timestamp.getDate()}</span>`</span>.padStart(<span class=hljs-number>2</span>, <span class=hljs-string>`0`</span>),
            },
          };
        }),
      }));
  }
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>script</span>></span><span class=javascript>
  <span class=hljs-keyword>export</span> <span class=hljs-keyword>let</span> posts;
</span><span class=hljs-tag>&lt;/<span class=hljs-name>script</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>svelte:head</span>></span>
  <span class=hljs-tag>&lt;<span class=hljs-name>title</span>></span>Blog | Mario Menj√≠var<span class=hljs-tag>&lt;/<span class=hljs-name>title</span>></span>
<span class=hljs-tag>&lt;/<span class=hljs-name>svelte:head</span>></span>

<span class=hljs-tag>&lt;<span class=hljs-name>ul</span>></span>
  {#each posts as post}
  <span class=hljs-tag>&lt;<span class=hljs-name>li</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>a</span>
      <span class=hljs-attr>rel</span>=<span class=hljs-string>"prefetch"</span>
      <span class=hljs-attr>href</span>=<span class=hljs-string>"blog/{post.date.year}/{post.date.month}/{post.date.day}/{post.slug}"</span>
    ></span>
      {post.title}
    <span class=hljs-tag>&lt;/<span class=hljs-name>a</span>></span>
    <span class=hljs-tag>&lt;<span class=hljs-name>p</span> <span class=hljs-attr>class</span>=<span class=hljs-string>"c-label-last-updated"</span>></span>
      Posted on {post.timestamp.toLocaleString()} by {post.author}
    <span class=hljs-tag>&lt;/<span class=hljs-name>p</span>></span>
  <span class=hljs-tag>&lt;/<span class=hljs-name>li</span>></span>
  {/each}
<span class=hljs-tag>&lt;/<span class=hljs-name>ul</span>></span></code></pre><p>Listo.</p> <h2 id=sitio-est√°tico>Sitio est√°tico</h2> <p>Antes de desplegar nuestro fant√°stico blog, necesitamos asegurarnos que las p√°ginas est√°ticas se generaran sin problemas. Para eso necesitamos ejecutar lo siguiente en la l√≠nea de comandos:</p> <pre class="overflow-x-auto language-bash"><code>[user@host my-blog]$ npm run <span class=hljs-built_in>export</span>
[user@host my-blog]$ npx serve __sapper__/<span class=hljs-built_in>export</span></code></pre><p>Si no tienes ningun problema al acceder a este endpoint <a href=http://localhost:5000/blog/2020/08/08/hola-mundo>/blog/2020/08/08/hola-mundo</a>, ¬°Felicidades! solo nos queda desplegar el sitio.</p> <h2 id=despliegue-github-pages>Despliegue: Github Pages</h2> <p>Nuestro sitio est√°tico ha sido generado y los archivos est√°n dentro de la carpeta <code>__sapper__/export</code>. Existen una infinidad de servicios que te permiten almacenar y servir este tipo de sitios, entre los m√°s populares tenemos Netlify o Github Pages. En este post te mostrar√© c√≥mo hacerlo con <em>Github Pages</em>.</p> <p>Podr√≠amos subir el folder <code>__sapper__/export</code> a un nuevo repositorio, activar la opci√≥n <em>Github Pages</em> y repetir este proceso manualmente cada vez que actualicemos nuestro sitio con un nuevo post. En mi opini√≥n, hacerlo de manera manual le quita la diversi√≥n. Afortunadamente, exite <em>Github Actions</em>.</p> <p>El primer paso es crear dos repositorios en <em>Github</em>, el primero es el repositorio de nuestro projecto y el segundo el repositorio al cu√°l subiremos nuestro sitio est√°tico. En mi caso, <a href=https://github.com/mariomenjr/mariomenjr>mariomenjr/mariomenjr</a> y <a href=https://github.com/mariomenjr/mariomenjr.github.io>mariomenjr/mariomenjr.github.io</a> respectivamente. Una vez hecho esto, creamos los siguientes folders y archivos en el folder del projecto:</p> <pre class="overflow-x-auto language-text"><code>...
‚îú .github
‚îÇ ‚îú workflows
| | | deploy.yml
‚îú src
...</code></pre><pre class="overflow-x-auto language-yml"><code><span class=hljs-comment># .github/workflows/deploy.yml</span>

<span class=hljs-attr>name:</span> <span class=hljs-string>Build</span> <span class=hljs-string>and</span> <span class=hljs-string>deploy</span>
<span class=hljs-attr>on:</span>
    <span class=hljs-attr>push:</span>
      <span class=hljs-attr>branches:</span> 
        <span class=hljs-comment># √önicamente cuando actualicemos master</span>
        <span class=hljs-bullet>-</span> <span class=hljs-string>master</span>
<span class=hljs-attr>jobs:</span>
  <span class=hljs-attr>build-and-deploy:</span>
    <span class=hljs-attr>runs-on:</span> <span class=hljs-string>ubuntu-latest</span>
    <span class=hljs-attr>steps:</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Checkout</span> <span class=hljs-string>üõéÔ∏è</span>
        <span class=hljs-attr>uses:</span> <span class=hljs-string>actions/checkout@v2.3.1</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-attr>persist-credentials:</span> <span class=hljs-literal>false</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Install</span> <span class=hljs-string>and</span> <span class=hljs-string>build</span>
        <span class=hljs-attr>run:</span> <span class=hljs-string>|
          npm install
          npm run export
</span>      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Deploy</span> <span class=hljs-string>üöÄ</span>
        <span class=hljs-attr>uses:</span> <span class=hljs-string>JamesIves/github-pages-deploy-action@3.5.9</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-comment># Limpiar√° el despliegue previo</span>
          <span class=hljs-attr>CLEAN:</span> <span class=hljs-literal>true</span>
          <span class=hljs-comment># Necesitamos crear este secret para el repositorio</span>
          <span class=hljs-attr>GITHUB_TOKEN:</span> <span class=hljs-string>${{</span> <span class=hljs-string>secrets.DEPLOY_MARIOMENJR</span> <span class=hljs-string>}}</span>
          <span class=hljs-attr>BRANCH:</span> <span class=hljs-string>master</span>
          <span class=hljs-attr>FOLDER:</span> <span class=hljs-string>__sapper__/export</span>
          <span class=hljs-attr>BASE_BRANCH:</span> <span class=hljs-string>master</span>
          <span class=hljs-attr>REPOSITORY_NAME:</span> <span class=hljs-string>mariomenjr/mariomenjr.github.io</span>
</code></pre><p>El archivo anterior se explica en la <a href=https://github.com/marketplace/actions/deploy-to-github-pages>documentaci√≥n</a> de la acci√≥n. En este post nos centraremos en un l√≠nea 1 l√≠nea: </p> <pre class="overflow-x-auto language-yml"><code><span class=hljs-string>...</span>
<span class=hljs-attr>jobs:</span>
  <span class=hljs-attr>build-and-deploy:</span>
    <span class=hljs-string>...</span>
    <span class=hljs-attr>steps:</span>
      <span class=hljs-string>...</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Deploy</span> <span class=hljs-string>üöÄ</span>
        <span class=hljs-string>...</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-string>...</span>
          <span class=hljs-comment># Necesitamos crear este secret para el repositorio</span>
          <span class=hljs-attr>GITHUB_TOKEN:</span> <span class=hljs-string>${{</span> <span class=hljs-string>secrets.DEPLOY_MARIOMENJR</span> <span class=hljs-string>}}</span>
          <span class=hljs-string>...</span></code></pre><p>Es esta l√≠nea la que autoriza a la acci√≥n a hacer cambios al repositorio <code>mariomenjr/mariomenjr.github.io</code>.</p> <p>Para generar tu <em>Github token</em>, dir√≠gete a <a href=https://github.com/settings/tokens>github.com/settings/tokens</a>, haz clic en el bot√≥n <code>Generate new token</code>, escribe un nombre significativo en el campo <code>Note</code>, selecciona el <em>checkbox</em> <strong><em>repo</em></strong> y, por √∫ltimo, haz clic en el bot√≥n <code>Generate token</code>.</p> <p><img alt="Github personal access tokens" src=https://imgur.com/HbbMgm7.png></p> <p>No olvides copiar el token.</p> <p>Por √∫ltimo, dir√≠gete al repositorio del projecto para crear la variable de entorno que incluir√°s en el archivo <code>deploy.yml</code>.</p> <p><img alt="Add secret to repository" src=https://imgur.com/iuyGLdc.png></p> <pre class="overflow-x-auto language-yml"><code><span class=hljs-string>...</span>
<span class=hljs-attr>jobs:</span>
  <span class=hljs-attr>build-and-deploy:</span>
    <span class=hljs-string>...</span>
    <span class=hljs-attr>steps:</span>
      <span class=hljs-string>...</span>
      <span class=hljs-bullet>-</span> <span class=hljs-attr>name:</span> <span class=hljs-string>Deploy</span> <span class=hljs-string>üöÄ</span>
        <span class=hljs-string>...</span>
        <span class=hljs-attr>with:</span>
          <span class=hljs-string>...</span>
          <span class=hljs-comment># Necesitamos crear este secret para el repositorio</span>
          <span class=hljs-attr>GITHUB_TOKEN:</span> <span class=hljs-string>${{</span> <span class=hljs-string>secrets.MI_VARIABLE</span> <span class=hljs-string>}}</span>
          <span class=hljs-string>...</span></code></pre><p>Listo. Tan pronto hagas push al repositorio del projecto, <em>Github Actions</em> desplegar√° tu sitio est√°tico.</p> <p><img alt="Github Action Deployment" src=https://imgur.com/fHxzGuf.png></p> <p>No olvides activar la opci√≥n Github Pages en el repositorio al que desplegaste el sitio.</p> <p><img alt=Settings src=https://imgur.com/tkl8wSO.png></p> <p><img alt="Github Pages Setting" src=https://imgur.com/86osvtX.png></p> <h1 id=conclusi√≥n>Conclusi√≥n</h1> <p>Puedes usar WordPress, Ghosts, incluso Jekyll si lo prefieres. El objetivo de este post es mostrarte como todas esas herramientas tienen su origen en cosas b√°sicas que con el tiempo se convierten en herramientas robustas listas para sacarles provecho.</p> <p>Me decid√≠ a construir este blog, de esta manera, para poner en pr√°ctica el concepto <a href=https://ricardoerl.com/blog/aprender-en-publico>Aprender en P√∫blico</a> que present√≥ <a href=https://ricardoerl.com>Ricardo</a>, un desarrollador salvadore√±o, en un charla de <a href=https://twitter.com/cafedigitalsv>Caf√© Digital</a> y as√≠ salir de mi zona de comfort. Cre√©me cuando te digo que me divert√≠.</p> <h1 id=referencias>Referencias</h1> <ul> <li><a href=https://www.mahmoudashraf.dev/blog/build-a-blog-with-svelte-and-markdown/ >Building a blog with Svelte, Sapper, and Markdown</a> </li> <li><a href=https://sapper.svelte.dev/docs#How_it_works>Sapper docs</a></li> <li><a href=https://www.swyx.io/writing/svelte-static/ >Static Svelte: JavaScript Blogging with 93% less JavaScript</a></li> <li><a href=https://es.wikipedia.org/wiki/Markdown>Markdown</a></li> </ul> </article></main></div></div> <div class="col-span-4 sm:col-span-1"><div class=box-border><main class=py-8><p class="text-xs text-gray-400 tracking-wide uppercase">No entries</main></div></div></div></div></div> <footer class="box-border border-t px-4"><div class="container mx-auto py-8 text-sm">2020 ¬© Mario Menj√≠var</div></footer></div></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{author:"Mario Menj√≠var",slug:"como-crear-un-blog-a-base-de-markdown-y-javascript",title:"C√≥mo crear un blog a base de markdown y JavaScript",timestamp:"2020-08-09T10:23:17.000-07:00",brief:"Seguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas.",keywords:"javascript,svelte,blog,markdown,howto",endpoint:"2020\u002F08\u002F09\u002Fcomo-crear-un-blog-a-base-de-markdown-y-javascript",content:"\u003Ch1 id=\"c√≥mo-crear-un-blog-a-base-de-markdown-y-javascript\"\u003EC√≥mo crear un blog a base de markdown y JavaScript\u003C\u002Fh1\u003E\n\u003Cp\u003ESeguramente te haz hecho la siguiente pregunta: ¬øC√≥mo hostear un blog que sea f√°cil de mantener, sin pagar un centavo? En este post te explico una de tantas alternativas.\u003C\u002Fp\u003E\n\u003Ch2 id=\"porqu√©\"\u003EPorqu√©\u003C\u002Fh2\u003E\n\u003Cp\u003EOtra pregunta que probablemente este en tu cabeza es ¬øPor qu√© markdown y JavaScript? La respuesta es un poco m√°s elaborada. Para empezar, ¬øQu√© es markdown? Seg√∫n Wikipedia: \u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E&quot;Markdown es un lenguaje de marcado ligero que trata de conseguir la m√°xima legibilidad y facilidad de publicaci√≥n tanto en su forma de entrada como de salida, inspir√°ndose en muchas convenciones existentes para marcar mensajes de correo electr√≥nico usando texto plano&quot; de \u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FMarkdown\"\u003EWikipedia\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EAl usar markdown para escribir un post, estamos estructurando nuestro contenido sin necesidad de incluir HTML o CSS en el momento. Es decir, nos enfocamos enteramente en lo importante: el texto. Esta simplicidad se ver√° potencializada al incluir \u003Cem\u003EGit\u003C\u002Fem\u003E y \u003Cem\u003EGithub\u003C\u002Fem\u003E en la formula, ya que podremos versionar nuestro contenido.\u003C\u002Fp\u003E\n\u003Cp\u003EComo mencion√©, hay muchas alternativas para lograrlo. Fundamentalmente una p√°gina web no es m√°s que HTML, CSS y JavaScript. Herramientas como \u003Ca href=\"https:\u002F\u002Fjekyllrb.com\u002F\"\u003E\u003Cem\u003EJekyll\u003C\u002Fem\u003E\u003C\u002Fa\u003E, aprovechan esta regla de oro para ayudarte a generar y administrar posts f√°cilmente haciendo uso de markdown. Pero, ¬øQu√© pasa si queremos tomar ventaja de todas las herramientas disponibles en el ecosistema JavaScript que se han establecido en los √∫ltimos 10 a√±os?  Para eso tenemos \u003Ca href=\"https:\u002F\u002Fwww.gatsbyjs.org\u002F\"\u003E\u003Cem\u003EGatsby\u003C\u002Fem\u003E\u003C\u002Fa\u003E, \u003Ca href=\"https:\u002F\u002Fnextjs.org\u002F\"\u003E\u003Cem\u003ENext.js\u003C\u002Fem\u003E\u003C\u002Fa\u003E o \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002Fdocs\"\u003E\u003Cem\u003ESapper\u003C\u002Fem\u003E\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cem\u003EIn a nutshell\u003C\u002Fem\u003E, estos tres frameworks permiten generar sitios est√°ticos haciendo uso de herramientas modernas como React o Svelte. En este post nos centraremos en \u003Cem\u003ESapper\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"¬øpor-qu√©-sapper\"\u003E¬øPor qu√© \u003Cem\u003ESapper\u003C\u002Fem\u003E?\u003C\u002Fh2\u003E\n\u003Cp\u003ESvelte es el nuevo chico de la cuadra. Su propuesta insignia es mover la reactividad de la UI desde mediadores como el Virtual DOM hacia el lenguaje, o mejor dicho, al compilador, en contraste con React o Vue. Esto aumenta el desempe√±o de las aplicaciones y disminuye el tama√±o del \u003Cem\u003Ebundle\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EPuedes echar un vistazo a la \u003Ca href=\"https:\u002F\u002Fwww.swyx.io\u002Fwriting\u002Fsvelte-static\u002F\"\u003Ecomparativa\u003C\u002Fa\u003E entre Gatsby y Sapper realizada por \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fswyx\"\u003EShawn Wang\u003C\u002Fa\u003E, un popular desarrollador en \u003Ca href=\"https:\u002F\u002Fegghead.io\u002F\"\u003Eegghead.io\u003C\u002Fa\u003E. Se muestra una reducci√≥n del 93% en el tama√±o del \u003Cem\u003Ebundle\u003C\u002Fem\u003E con \u003Cem\u003ESapper\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Ch2 id=\"setup\"\u003ESetup\u003C\u002Fh2\u003E\n\u003Cp\u003EPara instalar Sapper, basta con ejecutar los siguientes comandos:\u003C\u002Fp\u003E\n\u003Cpre class='language-bash overflow-x-auto'\u003E\u003Ccode\u003E[user@host ~]$ npx degit \u003Cspan class=\"hljs-string\"\u003E&quot;sveltejs\u002Fsapper-template#rollup&quot;\u003C\u002Fspan\u003E my-blog\n[user@host ~]$ \u003Cspan class=\"hljs-built_in\"\u003Ecd\u003C\u002Fspan\u003E my-blog\n[user@host my-blog]$ npm install\n[user@host my-blog]$ npm run dev\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEn el folder del projecto \u003Cem\u003Emy-blog\u003C\u002Fem\u003E, nos interesan los siguientes files:\u003C\u002Fp\u003E\n\u003Cpre class='language-text overflow-x-auto'\u003E\u003Ccode\u003E...\n‚îú src\n‚îÇ ‚îú routes\n| | ‚îú blog\n| | | ‚îú _posts.js\n| | | ‚îú [slug].json.js\n| | | ‚îú [slug].svelte\n| | | ‚îú index.json.js\n| | | ‚îú index.svelte\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EDe paso creamos el siguiente directorio y archivo:\u003C\u002Fp\u003E\n\u003Cpre class='language-text overflow-x-auto'\u003E\u003Ccode\u003E...\n+ ‚îú content\n+ ‚îÇ ‚îú 2020-08-08_hola-mundo.md\n  ‚îú src\n  ‚îÇ ‚îú routes\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ECon el siguiente contenido:\u003C\u002Fp\u003E\n\u003Cpre class='language-text overflow-x-auto'\u003E\u003Ccode\u003E---\nauthor: &#x27;Mario Menj√≠var&#x27;\nslug: &#x27;hola-mundo&#x27;\ntitle: &#x27;Hola Mundo&#x27;\ntimestamp: &#x27;2020-08-08T10:23:17.000-07:00&#x27;\n---\n\n# Hola mundo\n\nHola mundo.\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ENecesitamos instalar los siguientes paquetes:\u003C\u002Fp\u003E\n\u003Cpre class='language-bash overflow-x-auto'\u003E\u003Ccode\u003E[user@host my-blog]$ npm i gray-matter highlight.js marked\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEn mi caso, quiero que los posts est√©n ordenados por su fecha de publicaci√≥n y que esto se refleje en la URL. Tendremos que hacer unos cambios a los siguientes archivos:\u003C\u002Fp\u003E\n\u003Cpre class='language-text overflow-x-auto'\u003E\u003Ccode\u003E...\n- | | | ‚îú [slug].json.js\n- | | | ‚îú [slug].svelte\n+ | | | ‚îú [...slug].json.js\n+ | | | ‚îú [...slug].svelte\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ELuego, reemplazamos el contenido:\u003C\u002Fp\u003E\n\u003Cpre class='language-javascript overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F src\u002Froutes\u002Fblog\u002F[...slug].json.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E fs \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;fs&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E path \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;path&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E marked \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;marked&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E hljs \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;highlight.js&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E grayMatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;gray-matter&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n * Para obtener el contenido del post\n *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EgetPost\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Eyear, month, day, fileName\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E fs.readFileSync(\n    path.resolve(\u003Cspan class=\"hljs-string\"\u003E&quot;content&quot;\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E`\u003Cspan class=\"hljs-subst\"\u003E${year}\u003C\u002Fspan\u003E-\u003Cspan class=\"hljs-subst\"\u003E${month}\u003C\u002Fspan\u003E-\u003Cspan class=\"hljs-subst\"\u003E${day}\u003C\u002Fspan\u003E_\u003Cspan class=\"hljs-subst\"\u003E${fileName}\u003C\u002Fspan\u003E.md`\u003C\u002Fspan\u003E),\n    \u003Cspan class=\"hljs-string\"\u003E&quot;utf-8&quot;\u003C\u002Fspan\u003E\n  );\n}\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n * En Sapper, este m√©todo responde a una request a trav√©s del m√©todo GET\n * En nuestro caso, la request de un JSON\n *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Eget\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ereq, res, next\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F As√≠ es c√≥mo resolvemos una `dynamic route` en Sapper,\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F obtenemos cada valor en su variable respectiva\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E [year, month, day, slug] = req.params.slug;\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E postMarkdown = getPost(year, month, day, slug);\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E renderer = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E marked.Renderer();\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F marked provee una manera de formatear partes espec√≠ficas del markdown\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F en este caso, el c√≥digo\u003C\u002Fspan\u003E\n  renderer.code = \u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Esource, lang\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E: highlighted } = hljs.highlight(lang, source);\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E`&lt;pre class=&#x27;language-\u003Cspan class=\"hljs-subst\"\u003E${lang}\u003C\u002Fspan\u003E overflow-x-auto&#x27;&gt;&lt;code&gt;\u003Cspan class=\"hljs-subst\"\u003E${highlighted}\u003C\u002Fspan\u003E&lt;\u002Fcode&gt;&lt;\u002Fpre&gt;`\u003C\u002Fspan\u003E;\n  };\n\n  marked.use({ renderer });\n\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E { data, content } = grayMatter(postMarkdown);\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E html = marked(content);\n\n  \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (html) {\n    res.writeHead(\u003Cspan class=\"hljs-number\"\u003E200\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-string\"\u003E&quot;Content-Type&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;application\u002Fjson&quot;\u003C\u002Fspan\u003E });\n    res.end(\u003Cspan class=\"hljs-built_in\"\u003EJSON\u003C\u002Fspan\u003E.stringify({ html, ...data }));\n  } \u003Cspan class=\"hljs-keyword\"\u003Eelse\u003C\u002Fspan\u003E {\n    res.writeHead(\u003Cspan class=\"hljs-number\"\u003E404\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-string\"\u003E&quot;Content-Type&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;application\u002Fjson&quot;\u003C\u002Fspan\u003E });\n    res.end(\u003Cspan class=\"hljs-built_in\"\u003EJSON\u003C\u002Fspan\u003E.stringify({ \u003Cspan class=\"hljs-attr\"\u003Emessage\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`Not found`\u003C\u002Fspan\u003E }));\n  }\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cpre class='language-html overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002Froutes\u002Fblog\u002F[...slug].svelte --&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Econtext\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;module&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Este m√©todo representa un paso en el ciclo de vida de un component en Sapper.\n   *\n   * √önicamente se ejecuta cuando el componente es montado. Aqu√≠ haremos la petici√≥n de nuestro JSON con la informaci√≥n del post\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Easync\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Epreload\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ params }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n    \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E [year, month, day, slug] = params.slug;\n\n    \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E res = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.fetch(\u003Cspan class=\"hljs-string\"\u003E`blog\u002F\u003Cspan class=\"hljs-subst\"\u003E${year}\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-subst\"\u003E${month}\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-subst\"\u003E${day}\u003C\u002Fspan\u003E\u002F\u003Cspan class=\"hljs-subst\"\u003E${slug}\u003C\u002Fspan\u003E.json`\u003C\u002Fspan\u003E);\n    \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E data = \u003Cspan class=\"hljs-keyword\"\u003Eawait\u003C\u002Fspan\u003E res.json();\n\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (res.status === \u003Cspan class=\"hljs-number\"\u003E200\u003C\u002Fspan\u003E) {\n      \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E { \u003Cspan class=\"hljs-attr\"\u003Epost\u003C\u002Fspan\u003E: data };\n    } \u003Cspan class=\"hljs-keyword\"\u003Eelse\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.error(res.status, data.message);\n    }\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E post;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:head\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Etitle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{post.title} by {post.author}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Etitle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:head\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Earticle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {@html post.html}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Earticle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EDe esta forma se renderizar√° el post. Ya puedes verlo en tu ambiente local yendo a \u003Ca href=\"http:\u002F\u002Flocalhost:3000\u002Fblog\u002F2020\u002F08\u002F08\u002Fhola-mundo\"\u003E\u002Fblog\u002F2020\u002F08\u002F08\u002Fhola-mundo\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EA√∫n hay un peque√±o detalle que debemos cubrir para cumplir con las reglas que \u003Cem\u003ESapper\u003C\u002Fem\u003E establece si queremos exportar nuestro peque√±o blog como un sitio est√°tico.\u003C\u002Fp\u003E\n\u003Cblockquote\u003E\n\u003Cp\u003E&quot;... cualquier p√°gina que quieras que sea inclu√≠da en el sitio (est√°tico) exportado debe ser esta ligado con una etiqueta del tipo &lt;a&gt; o a√±adida c√≥mo parametro de la opci√≥n  --entry del comando \u003Ccode\u003Esapper export\u003C\u002Fcode\u003E&quot; de \u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002Fdocs#How_it_works\"\u003ESapper docs\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fblockquote\u003E\n\u003Cp\u003EDe acuerdo a la documentaci√≥n, debemos incluir elementos \u003Cstrong\u003E&lt;a&gt;\u003C\u002Fstrong\u003E que apunten a nuestras p√°ginas generadas a partir de rutas din√°micas, para que al exportar el sitio estas tambi√©n se incluyan. Por eso programaremos el endpoint \u003Ca href=\"http:\u002F\u002Flocalhost:3000\u002Fblog\"\u003E\u002Fblog\u003C\u002Fa\u003E.\u003C\u002Fp\u003E\n\u003Cpre class='language-javascript overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F src\u002Froutes\u002Fblog\u002Findex.json.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E fs \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;fs&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E path \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;path&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E grayMatter \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;gray-matter&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EgetAllPosts\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E posts = fs\n    .readdirSync(\u003Cspan class=\"hljs-string\"\u003E&quot;content&quot;\u003C\u002Fspan\u003E)\n    .map(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003EfileName\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E post = fs.readFileSync(path.resolve(\u003Cspan class=\"hljs-string\"\u003E&quot;content&quot;\u003C\u002Fspan\u003E, fileName), \u003Cspan class=\"hljs-string\"\u003E&quot;utf-8&quot;\u003C\u002Fspan\u003E);\n      \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E grayMatter(post).data;\n    })\n    .sort(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ea, b\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n      \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (b.timestamp &lt; a.timestamp) \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E-1\u003C\u002Fspan\u003E;\n      \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (b.timestamp &gt; a.timestamp) \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E;\n\n      \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E;\n    });\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E posts;\n}\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Eget\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Ereq, res\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  res.writeHead(\u003Cspan class=\"hljs-number\"\u003E200\u003C\u002Fspan\u003E, { \u003Cspan class=\"hljs-string\"\u003E&quot;Content-Type&quot;\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E&quot;application\u002Fjson&quot;\u003C\u002Fspan\u003E });\n  res.end(\u003Cspan class=\"hljs-built_in\"\u003EJSON\u003C\u002Fspan\u003E.stringify(getAllPosts()));\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cpre class='language-html overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E&lt;!-- src\u002Froutes\u002Fblog\u002Findex.svelte --&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Econtext\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;module&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Epreload\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ params, query }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003Ethis\u003C\u002Fspan\u003E.fetch(\u003Cspan class=\"hljs-string\"\u003E`blog.json`\u003C\u002Fspan\u003E)\n      .then(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Er\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E r.json())\n      .then(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Eposts\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E ({\n        \u003Cspan class=\"hljs-attr\"\u003Eposts\u003C\u002Fspan\u003E: posts.map(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Epost\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n          \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E timestamp = \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EDate\u003C\u002Fspan\u003E(post.timestamp);\n          \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E {\n            ...post,\n            timestamp,\n            \u003Cspan class=\"hljs-attr\"\u003Edate\u003C\u002Fspan\u003E: {\n              \u003Cspan class=\"hljs-attr\"\u003Eyear\u003C\u002Fspan\u003E: timestamp.getFullYear(),\n              \u003Cspan class=\"hljs-attr\"\u003Emonth\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`\u003Cspan class=\"hljs-subst\"\u003E${timestamp.getMonth() + \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E}\u003C\u002Fspan\u003E`\u003C\u002Fspan\u003E.padStart(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E`0`\u003C\u002Fspan\u003E),\n              \u003Cspan class=\"hljs-attr\"\u003Eday\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`\u003Cspan class=\"hljs-subst\"\u003E${timestamp.getDate()}\u003C\u002Fspan\u003E`\u003C\u002Fspan\u003E.padStart(\u003Cspan class=\"hljs-number\"\u003E2\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-string\"\u003E`0`\u003C\u002Fspan\u003E),\n            },\n          };\n        }),\n      }));\n  }\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003Cspan class=\"javascript\"\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Elet\u003C\u002Fspan\u003E posts;\n\u003C\u002Fspan\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Escript\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Esvelte:head\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Etitle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EBlog | Mario Menj√≠var\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Etitle\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Esvelte:head\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eul\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {#each posts as post}\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eli\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ea\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Erel\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;prefetch&quot;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Ehref\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;blog\u002F{post.date.year}\u002F{post.date.month}\u002F{post.date.day}\u002F{post.slug}&quot;\u003C\u002Fspan\u003E\n    &gt;\u003C\u002Fspan\u003E\n      {post.title}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ea\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Eclass\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;c-label-last-updated&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      Posted on {post.timestamp.toLocaleString()} by {post.author}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ep\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eli\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n  {\u002Feach}\n\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eul\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EListo.\u003C\u002Fp\u003E\n\u003Ch2 id=\"sitio-est√°tico\"\u003ESitio est√°tico\u003C\u002Fh2\u003E\n\u003Cp\u003EAntes de desplegar nuestro fant√°stico blog, necesitamos asegurarnos que las p√°ginas est√°ticas se generaran sin problemas. Para eso necesitamos ejecutar lo siguiente en la l√≠nea de comandos:\u003C\u002Fp\u003E\n\u003Cpre class='language-bash overflow-x-auto'\u003E\u003Ccode\u003E[user@host my-blog]$ npm run \u003Cspan class=\"hljs-built_in\"\u003Eexport\u003C\u002Fspan\u003E\n[user@host my-blog]$ npx serve __sapper__\u002F\u003Cspan class=\"hljs-built_in\"\u003Eexport\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ESi no tienes ningun problema al acceder a este endpoint \u003Ca href=\"http:\u002F\u002Flocalhost:5000\u002Fblog\u002F2020\u002F08\u002F08\u002Fhola-mundo\"\u003E\u002Fblog\u002F2020\u002F08\u002F08\u002Fhola-mundo\u003C\u002Fa\u003E, ¬°Felicidades! solo nos queda desplegar el sitio.\u003C\u002Fp\u003E\n\u003Ch2 id=\"despliegue-github-pages\"\u003EDespliegue: Github Pages\u003C\u002Fh2\u003E\n\u003Cp\u003ENuestro sitio est√°tico ha sido generado y los archivos est√°n dentro de la carpeta \u003Ccode\u003E__sapper__\u002Fexport\u003C\u002Fcode\u003E. Existen una infinidad de servicios que te permiten almacenar y servir este tipo de sitios, entre los m√°s populares tenemos Netlify o Github Pages. En este post te mostrar√© c√≥mo hacerlo con \u003Cem\u003EGithub Pages\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EPodr√≠amos subir el folder \u003Ccode\u003E__sapper__\u002Fexport\u003C\u002Fcode\u003E a un nuevo repositorio, activar la opci√≥n \u003Cem\u003EGithub Pages\u003C\u002Fem\u003E y repetir este proceso manualmente cada vez que actualicemos nuestro sitio con un nuevo post. En mi opini√≥n, hacerlo de manera manual le quita la diversi√≥n. Afortunadamente, exite \u003Cem\u003EGithub Actions\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EEl primer paso es crear dos repositorios en \u003Cem\u003EGithub\u003C\u002Fem\u003E, el primero es el repositorio de nuestro projecto y el segundo el repositorio al cu√°l subiremos nuestro sitio est√°tico. En mi caso, \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmariomenjr\u002Fmariomenjr\"\u003Emariomenjr\u002Fmariomenjr\u003C\u002Fa\u003E y \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmariomenjr\u002Fmariomenjr.github.io\"\u003Emariomenjr\u002Fmariomenjr.github.io\u003C\u002Fa\u003E respectivamente. Una vez hecho esto, creamos los siguientes folders y archivos en el folder del projecto:\u003C\u002Fp\u003E\n\u003Cpre class='language-text overflow-x-auto'\u003E\u003Ccode\u003E...\n‚îú .github\n‚îÇ ‚îú workflows\n| | | deploy.yml\n‚îú src\n...\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cpre class='language-yml overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-comment\"\u003E# .github\u002Fworkflows\u002Fdeploy.yml\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EBuild\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eand\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Edeploy\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Eon:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Epush:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-attr\"\u003Ebranches:\u003C\u002Fspan\u003E \n        \u003Cspan class=\"hljs-comment\"\u003E# √önicamente cuando actualicemos master\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emaster\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ejobs:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebuild-and-deploy:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Eruns-on:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eubuntu-latest\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Esteps:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003ECheckout\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EüõéÔ∏è\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Euses:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eactions\u002Fcheckout@v2.3.1\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003Epersist-credentials:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-literal\"\u003Efalse\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EInstall\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Eand\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Ebuild\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Erun:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E|\n          npm install\n          npm run export\n\u003C\u002Fspan\u003E      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EDeploy\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EüöÄ\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Euses:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EJamesIves\u002Fgithub-pages-deploy-action@3.5.9\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-comment\"\u003E# Limpiar√° el despliegue previo\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003ECLEAN:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-literal\"\u003Etrue\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-comment\"\u003E# Necesitamos crear este secret para el repositorio\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EGITHUB_TOKEN:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E${{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Esecrets.DEPLOY_MARIOMENJR\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E}}\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EBRANCH:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emaster\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EFOLDER:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E__sapper__\u002Fexport\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EBASE_BRANCH:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emaster\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EREPOSITORY_NAME:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Emariomenjr\u002Fmariomenjr.github.io\u003C\u002Fspan\u003E\n\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEl archivo anterior se explica en la \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fmarketplace\u002Factions\u002Fdeploy-to-github-pages\"\u003Edocumentaci√≥n\u003C\u002Fa\u003E de la acci√≥n. En este post nos centraremos en un l√≠nea 1 l√≠nea: \u003C\u002Fp\u003E\n\u003Cpre class='language-yml overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ejobs:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebuild-and-deploy:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Esteps:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EDeploy\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EüöÄ\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-comment\"\u003E# Necesitamos crear este secret para el repositorio\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EGITHUB_TOKEN:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E${{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Esecrets.DEPLOY_MARIOMENJR\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E}}\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEs esta l√≠nea la que autoriza a la acci√≥n a hacer cambios al repositorio \u003Ccode\u003Emariomenjr\u002Fmariomenjr.github.io\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003EPara generar tu \u003Cem\u003EGithub token\u003C\u002Fem\u003E, dir√≠gete a \u003Ca href=\"https:\u002F\u002Fgithub.com\u002Fsettings\u002Ftokens\"\u003Egithub.com\u002Fsettings\u002Ftokens\u003C\u002Fa\u003E, haz clic en el bot√≥n \u003Ccode\u003EGenerate new token\u003C\u002Fcode\u003E, escribe un nombre significativo en el campo \u003Ccode\u003ENote\u003C\u002Fcode\u003E, selecciona el \u003Cem\u003Echeckbox\u003C\u002Fem\u003E \u003Cstrong\u003E\u003Cem\u003Erepo\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E y, por √∫ltimo, haz clic en el bot√≥n \u003Ccode\u003EGenerate token\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002FHbbMgm7.png\" alt=\"Github personal access tokens\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENo olvides copiar el token.\u003C\u002Fp\u003E\n\u003Cp\u003EPor √∫ltimo, dir√≠gete al repositorio del projecto para crear la variable de entorno que incluir√°s en el archivo \u003Ccode\u003Edeploy.yml\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002FiuyGLdc.png\" alt=\"Add secret to repository\"\u003E\u003C\u002Fp\u003E\n\u003Cpre class='language-yml overflow-x-auto'\u003E\u003Ccode\u003E\u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-attr\"\u003Ejobs:\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-attr\"\u003Ebuild-and-deploy:\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-attr\"\u003Esteps:\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-bullet\"\u003E-\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ename:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EDeploy\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003EüöÄ\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-attr\"\u003Ewith:\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-comment\"\u003E# Necesitamos crear este secret para el repositorio\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-attr\"\u003EGITHUB_TOKEN:\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E${{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003Esecrets.MI_VARIABLE\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E}}\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-string\"\u003E...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EListo. Tan pronto hagas push al repositorio del projecto, \u003Cem\u003EGithub Actions\u003C\u002Fem\u003E desplegar√° tu sitio est√°tico.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002FfHxzGuf.png\" alt=\"Github Action Deployment\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003ENo olvides activar la opci√≥n Github Pages en el repositorio al que desplegaste el sitio.\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002Ftkl8wSO.png\" alt=\"Settings\"\u003E\u003C\u002Fp\u003E\n\u003Cp\u003E\u003Cimg src=\"https:\u002F\u002Fimgur.com\u002F86osvtX.png\" alt=\"Github Pages Setting\"\u003E\u003C\u002Fp\u003E\n\u003Ch1 id=\"conclusi√≥n\"\u003EConclusi√≥n\u003C\u002Fh1\u003E\n\u003Cp\u003EPuedes usar WordPress, Ghosts, incluso Jekyll si lo prefieres. El objetivo de este post es mostrarte como todas esas herramientas tienen su origen en cosas b√°sicas que con el tiempo se convierten en herramientas robustas listas para sacarles provecho.\u003C\u002Fp\u003E\n\u003Cp\u003EMe decid√≠ a construir este blog, de esta manera, para poner en pr√°ctica el concepto \u003Ca href=\"https:\u002F\u002Fricardoerl.com\u002Fblog\u002Faprender-en-publico\"\u003EAprender en P√∫blico\u003C\u002Fa\u003E que present√≥ \u003Ca href=\"https:\u002F\u002Fricardoerl.com\"\u003ERicardo\u003C\u002Fa\u003E, un desarrollador salvadore√±o, en un charla de \u003Ca href=\"https:\u002F\u002Ftwitter.com\u002Fcafedigitalsv\"\u003ECaf√© Digital\u003C\u002Fa\u003E y as√≠ salir de mi zona de comfort. Cre√©me cuando te digo que me divert√≠.\u003C\u002Fp\u003E\n\u003Ch1 id=\"referencias\"\u003EReferencias\u003C\u002Fh1\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.mahmoudashraf.dev\u002Fblog\u002Fbuild-a-blog-with-svelte-and-markdown\u002F\"\u003EBuilding a blog with Svelte, Sapper, and Markdown\u003C\u002Fa\u003E \u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fsapper.svelte.dev\u002Fdocs#How_it_works\"\u003ESapper docs\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.swyx.io\u002Fwriting\u002Fsvelte-static\u002F\"\u003EStatic Svelte: JavaScript Blogging with 93% less JavaScript\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fes.wikipedia.org\u002Fwiki\u002FMarkdown\"\u003EMarkdown\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.10bfa892.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.10bfa892.js")}document.head.appendChild(s)</script> 