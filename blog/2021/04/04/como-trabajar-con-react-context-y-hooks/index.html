<!doctype html> <html lang=es> <head> <script async src="https://www.googletagmanager.com/gtag/js?id=UA-174920898-1"></script> <script> window.dataLayer = window.dataLayer || [];
		function gtag(){dataLayer.push(arguments);}
		gtag('js', new Date());

		gtag('config', 'UA-174920898-1'); </script> <meta charset=utf-8> <meta content="width=device-width,initial-scale=1" name=viewport> <meta content=#333333 name=theme-color> <meta content=website property=og:type> <base href=/ > <link href=manifest.json rel=manifest crossorigin=use-credentials> <link href=favicon.ico rel="shortcut icon" type=image/ico> <link href=client/main.2592917502.css rel=stylesheet> <noscript id=sapper-head-start></noscript><title>Cómo trabajar con React Context y Hooks by Mario Menjívar</title><meta content="Esta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde _Class Components_ a _Hooks_. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto." name=description><meta content="react,español,context,cómo usar react context,user,blog,hooks,reemplazar redux,dejar de usar redux,redux,reducer,state" name=keywords><meta content=website property=og:type><meta content=https://mariomenjr.com/blog/2021/04/04/como-trabajar-con-react-context-y-hooks property=og:url><meta content="Cómo trabajar con React Context y Hooks by Mario Menjívar" property=og:title><meta content="Esta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde _Class Components_ a _Hooks_. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto." property=og:description><meta content=https://imgur.com/5ZmbSG2.png property=og:image><meta content=summary_large_image property=twitter:card><meta content=https://mariomenjr.com/blog/2021/04/04/como-trabajar-con-react-context-y-hooks property=twitter:url><meta content="Cómo trabajar con React Context y Hooks by Mario Menjívar" property=twitter:title><meta content="Esta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde _Class Components_ a _Hooks_. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto." property=twitter:description><meta content=https://imgur.com/5ZmbSG2.png property=twitter:image><noscript id=sapper-head-end></noscript> </head> <body class="text-gray-900 antialiased bg-gray-50 box-border overflow-x-hidden"> <div id=sapper> <div class="box-border min-h-screen min-w-screen"><div class="flex justify-between flex-col h-100" style=visibility:hidden><div><header class=px-4><div class="container mx-auto mt-2 px-2 py-5 sm:px-1 sm:py-3"><div class="flex flex-row items-center justify-between"><div class=inline-block><a href=/ ><div class="flex flex-row items-center"><img alt=@mariomenjr class="rounded-full sm:w-16 w-12" src="https://avatars3.githubusercontent.com/u/1946936?s=460&v=4"> <div class="flex flex-col ml-3"><span class="font-bold sm:text-xl text-grey-800 text-lg">Mario Menjívar</span> <span class="font-light text-grey-600 text-left text-xs">@mariomenjr</span></div></div></a></div> <div class=inline-block><div class="flex flex-row items-center"><a href=https://twitter.com/mariomenjr target=_blank><svg class="text-gray-900 fill-current h-6 w-6" viewBox="0 0 50 50" xmlns=http://www.w3.org/2000/svg><path d="M50.063 10.438a20.57 20.57 0 01-5.91 1.62 10.309 10.309 0
          004.523-5.687 20.648 20.648 0 01-6.531 2.492 10.258 10.258 0
          00-7.504-3.246c-5.68 0-10.286 4.602-10.286 10.281 0 .805.094 1.59.27
          2.344-8.547-.43-16.121-4.523-21.195-10.746a10.243 10.243 0 00-1.39
          5.172c0 3.566 1.812 6.715 4.573 8.562a10.274 10.274 0
          01-4.66-1.289v.13c0 4.984 3.547 9.136 8.246 10.085a10.29 10.29 0
          01-4.644.172c1.312 4.082 5.11 7.063 9.605 7.145A20.613 20.613 0 012.39
          41.87c-.831 0-1.648-.047-2.449-.144a29.053 29.053 0 0015.762
          4.62c18.914 0 29.258-15.667 29.258-29.253
          0-.446-.012-.895-.027-1.332a20.904 20.904 0 005.129-5.325z"></path></svg></a> <span class=w-5></span> <a href=https://linkedin.com/in/mariomenjr target=_blank><svg class="text-gray-900 fill-current h-6 w-6" viewBox="0 0 50 50" xmlns=http://www.w3.org/2000/svg><path d="M41 4H9C6.24 4 4 6.24 4 9v32c0 2.76 2.24 5 5 5h32c2.76 0 5-2.24
          5-5V9c0-2.76-2.24-5-5-5zM17 20v19h-6V20h6zm-6-5.53c0-1.4 1.2-2.47
          3-2.47s2.93 1.07 3 2.47c0 1.4-1.12 2.53-3 2.53-1.8 0-3-1.13-3-2.53zM39
          39h-6V29c0-2-1-4-3.5-4.04h-.08C27 24.96 26 27.02 26
          29v10h-6V20h6v2.56S27.93 20 31.81 20c3.97 0 7.19 2.73 7.19 8.26V39z"></path></svg></a></div></div></div></div></header> <nav class="px-4 border-b mt-2"><div class="container mx-auto"><div class="flex flex-row items-center justify-between"><ul class="flex flex-row items-center space-x-8"><li class="px-2 border-gray-900 py-3"><a href=/blog class="text-gray-900 font-light hover:text-black text-sm tracking-wide uppercase font-medium">blog</a> </li> </ul><ul class="flex flex-row items-center space-x-8"><li class="px-2 border-gray-900 py-3"><a href=/contacto class="text-gray-900 font-light hover:text-black text-sm tracking-wide uppercase">contacto</a> <li class="px-2 border-gray-900 py-3"><a href=/acerca class="text-gray-900 font-light hover:text-black text-sm tracking-wide uppercase">acerca</a> </li> </ul></div></div></nav></div> <div class="px-4 bg-gray-100"><div class="container mx-auto"><div class="gap-2 grid grid-cols-4"><div class="col-span-4 sm:col-span-3"><div class=box-border><main class=py-8> <p class=blog-timestamp>Última actualización en 4/4/2021, 5:07:02 PM por Mario Menjívar</p> <a href="https://twitter.com/share?ref_src=twsrc%5Etfw&text=hola&via=mariomenjr" class=twitter-share-button data-show-count=false>Tweet </a> <article class=blog><h1 id=cómo-trabajar-con-react-context-y-hooks>Cómo trabajar con React Context y Hooks</h1> <p>Esta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde <em>Class Components</em> a <em>Hooks</em>. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto.</p> <h2 id=hold-on>Hold on</h2> <p>Para ser prácticos, estoy asumiendo que:</p> <ul> <li>Ya conoces cómo funcionan los <em>Hooks</em>.</li> <li>Ya haz trabajado con librerías de Estado global (por ejemplo, <em>Redux</em>).</li> </ul> <p>Si este no es tu caso, igual quédate. Nos vamos a divertir.</p> <h2 id=ok-react-context>Ok, React Context</h2> <p><em>In a nutshell</em>, <em>React Context</em> nos permite compartir el <em>State</em> de nuestra aplicación a través del árbol de componentes sin tener que <em>pasar</em> las propiedades explicítamente por cada uno de ellos. Pero... ¿Por qué querríamos acceder a las propiedades sin tener que pasarlas explícitamente?</p> <p>Veamos el siguiente ejemplo, un carrito de compras:</p> <pre class=language-jsx><code class=hljs><span class=hljs-comment>// App.js</span>

<span class=hljs-keyword>import</span> React <span class=hljs-keyword>from</span> <span class=hljs-string>"react"</span>;
<span class=hljs-keyword>import</span> { Container, Row, Col, Form } <span class=hljs-keyword>from</span> <span class=hljs-string>"reactstrap"</span>;

<span class=hljs-keyword>export</span> <span class=hljs-keyword>default</span> <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>App</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-keyword>const</span> [cart] = React.useState([{ <span class=hljs-attr>name</span>: <span class=hljs-string>`iPad`</span> }, { <span class=hljs-attr>name</span>: <span class=hljs-string>`OnePlus 9`</span> }]);
  <span class=hljs-keyword>const</span> [user] = React.useState({ <span class=hljs-attr>name</span>: <span class=hljs-string>`Mario`</span> });
  <span class=hljs-comment>/*
   * En nuestra App, aquí tenemos el origen de datos
   */</span>
  <span class=hljs-keyword>return</span> <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>Layout</span> <span class=hljs-attr>cart</span>=<span class=hljs-string>{cart}</span> <span class=hljs-attr>user</span>=<span class=hljs-string>{user}</span> /></span></span>;
}

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>Layout</span>(<span class=hljs-params>{ cart, user }</span>) </span>{
  <span class=hljs-comment>/*
   * Construímos el esqueleto de la interfaz
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>Container</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>Row</span>></span>
        <span class=hljs-tag>&lt;<span class=hljs-name>Col</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>CartForm</span> <span class=hljs-attr>cart</span>=<span class=hljs-string>{cart}</span> <span class=hljs-attr>user</span>=<span class=hljs-string>{user}</span> /></span>
        <span class=hljs-tag>&lt;/<span class=hljs-name>Col</span>></span>
      <span class=hljs-tag>&lt;/<span class=hljs-name>Row</span>></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Container</span>></span></span>
  );
}

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartForm</span>(<span class=hljs-params>{ cart, user }</span>) </span>{
  <span class=hljs-comment>/*
   * Aquí consumimos a user, pero no a cart
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>Form</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Carrito de {user.name}<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>CartList</span> <span class=hljs-attr>cart</span>=<span class=hljs-string>{cart}</span> /></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"submit"</span>></span>Buy<span class=hljs-tag>&lt;/<span class=hljs-name>button</span>></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Form</span>></span></span>
  );
}

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartList</span>(<span class=hljs-params>{ cart }</span>) </span>{
  <span class=hljs-comment>/*
   * Finalmente consumimos a cart
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>className</span>=<span class=hljs-string>{</span>`<span class=hljs-attr>p-2</span>`}></span>
      {cart.map((item, index) => (
        <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>key</span>=<span class=hljs-string>{index}</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>span</span> <span class=hljs-attr>style</span>=<span class=hljs-string>{{</span> <span class=hljs-attr>color:</span> `<span class=hljs-attr>red</span>`, <span class=hljs-attr>cursor:</span> `<span class=hljs-attr>pointer</span>` }}></span>[x]<span class=hljs-tag>&lt;/<span class=hljs-name>span</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>span</span> <span class=hljs-attr>className</span>=<span class=hljs-string>{</span>`<span class=hljs-attr>mx-1</span>`} /></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>span</span>></span>{item.name}<span class=hljs-tag>&lt;/<span class=hljs-name>span</span>></span>
        <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span>
      ))}
    <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></span>
  );
}</code></pre><p>Seguro notaste como los <em>States</em> <strong><em>user</em></strong> y <strong><em>cart</em></strong> tienen que <em>pasar</em> por todos los componentes del árbol para llegar a los componentes dónde realmente serán de utilidad. Creéme cuando te digo que esto puede complicarse aún más.</p> <p>¿No sería más sencillo poder acceder a ellos justo dónde los necesitemos?</p> <h2 id=provider-consumer-usereducer-y-usecontext>Provider, Consumer, useReducer y useContext</h2> <p>Ya que tengo tu atención, vamos a introducir unos cuantos conceptos:</p> <ul> <li><p><strong><em>Provider</em></strong>: Como su nombre lo sugiere (proveedor en español), es el componente que proveerá los datos a <em>todos</em> sus componentes hijos. Es aquí dónde el <em>State</em> vivirá.</p> </li> <li><p><strong><em>Consumer</em></strong>: Con él, cada nodo (o componente) que puede acceder al <em>State</em> que vive en el <em>Provider</em>.</p> </li> </ul> <p>Estos dos conceptos son fundamentales para entender lo qué sucede al implementar React Context en tu aplicación. Sin embargo, el título de este artículo tiene un "y Hooks" al final. Así que debemos presentar los siguientes Hooks:</p> <ul> <li><p><strong><em>useReducer</em></strong>: Si has utilizado <em>Redux</em>, ya conoces el próposito de un <em>reducer</em>. Es una función que recibe dos parametros, el <em>state</em> actual y una <em>action</em>. Con estos dos párametros, podemos organizar la forma en cómo el <em>State</em> será actualizado <em>reduciendo</em> las actualizaciones a casos. Los utilizaremos aquí junto con <em>useContext</em>.</p> </li> <li><p><strong><em>useContext</em></strong>: <em>In a nutshell</em>, este Hook actúa como un <em>Consumer</em>.</p> </li> </ul> <h2 id=ah-sí-el-context>Ah sí, el Context</h2> <p>Lo siguiente en nuestra lista es:</p> <ul> <li>Configurar un Contexto</li> <li>Establece una forma de actualizar</li> <li>Consumirlo</li> </ul> <p>Para eso, necesitamos el siguiente script. Encontrarás comentarios explícativos.</p> <pre class=language-jsx><code class=hljs><span class=hljs-comment>// context.js</span>

<span class=hljs-keyword>import</span> React <span class=hljs-keyword>from</span> <span class=hljs-string>"react"</span>;

<span class=hljs-keyword>const</span> StateContext = React.createContext();
<span class=hljs-keyword>const</span> DispatchContext = React.createContext();

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>reducer</span>(<span class=hljs-params>state, action</span>) </span>{
  <span class=hljs-keyword>switch</span> (action.type) {
    <span class=hljs-keyword>case</span> <span class=hljs-string>`REMOVE_ITEM`</span>:
      <span class=hljs-keyword>const</span> index = <span class=hljs-built_in>Number</span>(action.data.index);
      <span class=hljs-keyword>return</span> {
        ...state,
        <span class=hljs-attr>cart</span>: [...state.cart.slice(<span class=hljs-number>0</span>, index), ...state.cart.slice(index + <span class=hljs-number>1</span>)],
      };

    <span class=hljs-keyword>default</span>:
      <span class=hljs-keyword>return</span> state;
  }
}

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>Provider</span>(<span class=hljs-params>{ children }</span>) </span>{
  <span class=hljs-comment>/*
   * Creamos un State usando el hook useReducer
   * De esta manera, obtenemos la habilidad de separar nuestra lógica
   * En acciones.
   *
   * Ver: https://es.reactjs.org/docs/hooks-reference.html#usereducer
   */</span>
  <span class=hljs-keyword>const</span> [state, dispatch] = React.useReducer(reducer, {
    <span class=hljs-attr>user</span>: { <span class=hljs-attr>name</span>: <span class=hljs-string>`Mario`</span> },
    <span class=hljs-attr>cart</span>: [
      { <span class=hljs-attr>name</span>: <span class=hljs-string>`iPad Air`</span> },
      { <span class=hljs-attr>name</span>: <span class=hljs-string>`OnePlus 9`</span> },
      { <span class=hljs-attr>name</span>: <span class=hljs-string>`Thinpad X1 Carbo 9 Gen`</span> },
    ],
  });

  <span class=hljs-comment>/*
   * Establecemos 2 Providers
   * 1 para proveer el State
   * 1 para proveer la función Dispatch
   *
   * Esto es así, ya que la función Dispatch nunca cambiará
   * Por esta razón, la separamos del resto del State
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>StateContext.Provider</span> <span class=hljs-attr>value</span>=<span class=hljs-string>{state}</span>></span>
      <span class=hljs-tag>&lt;<span class=hljs-name>DispatchContext.Provider</span> <span class=hljs-attr>value</span>=<span class=hljs-string>{dispatch}</span>></span>
        {children}
      <span class=hljs-tag>&lt;/<span class=hljs-name>DispatchContext.Provider</span>></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>StateContext.Provider</span>></span></span>
  );
}

<span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>useConsumer</span>(<span class=hljs-params></span>) </span>{
  <span class=hljs-comment>/*
   * Finalmente, hacemos uso del Hook useContext
   * para consumir el State que reside en cada Provider
   *
   * La razón por la que es un Array es para darle el formato
   * de un custom Hook.
   */</span>
  <span class=hljs-keyword>return</span> [
    React.useContext(StateContext),
    React.useContext(DispatchContext),
  ].map(<span class=hljs-function>(<span class=hljs-params>ctx</span>) =></span> {
    <span class=hljs-keyword>if</span> (ctx === <span class=hljs-literal>undefined</span>) <span class=hljs-keyword>throw</span> <span class=hljs-keyword>new</span> <span class=hljs-built_in>Error</span>(<span class=hljs-string>`Provider not found`</span>);
    <span class=hljs-keyword>return</span> ctx;
  });
}

<span class=hljs-comment>/*
 * Exportamos
 */</span>
<span class=hljs-keyword>export</span> { Provider, useConsumer };</code></pre><p>En el script anterior, nos encontramos con 3 funciones importantes.</p> <ul> <li><p><strong><em>Provider</em></strong>: Más que una función, un tipo. Para ser más específicos, un componente de React. Este componente proveerá el <em>State</em> global.</p> </li> <li><p><strong><em>useConsumer</em></strong>: Más que una función, un custom Hook. Con él, consumiremos el <em>State</em> en los hijos del componente <code>&lt;Provider /></code>.</p> </li> <li><p><strong><em>reducer</em></strong>: Nuestra función <strong><em>reducer</em></strong>. Con ella, organizaremos cómo actualizaremos nuestro <em>State</em>.</p> </li> </ul> <p>Por último, exportamos únicamente lo que usaremos en los componentes dónde necesitemos el <em>State</em>. En nuestro script <code>App.js</code>.</p> <pre class=language-jsx><code class=hljs><span class=hljs-comment>// App.js</span>

<span class=hljs-comment>// ...</span>
- <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartForm</span>(<span class=hljs-params>{ cart, user }</span>) </span>{       <span class=hljs-comment>// Removed</span>
+ <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartForm</span>(<span class=hljs-params></span>)) </span>{                    <span class=hljs-comment>// Added</span>

+  <span class=hljs-keyword>const</span> [state, dispatch] = useConsumer();

+  <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>removeItem</span>(<span class=hljs-params>index</span>) </span>{
+    dispatch({ <span class=hljs-attr>type</span>: <span class=hljs-string>`REMOVE_ITEM`</span>, <span class=hljs-attr>data</span>: { index } });
+  }

  <span class=hljs-comment>/*
   * Aquí consumimos a user, pero no a cart
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>Form</span>></span>
-     <span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Carrito de {user.name}<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span>
+     <span class=hljs-tag>&lt;<span class=hljs-name>h1</span>></span>Carrito de {state.user.name}<span class=hljs-tag>&lt;/<span class=hljs-name>h1</span>></span>

-     <span class=hljs-tag>&lt;<span class=hljs-name>CartList</span> <span class=hljs-attr>cart</span>=<span class=hljs-string>{state.cart}</span> <span class=hljs-attr>removeItem</span>=<span class=hljs-string>{removeItem}</span> /></span>
+     <span class=hljs-tag>&lt;<span class=hljs-name>CartList</span> <span class=hljs-attr>cart</span>=<span class=hljs-string>{state.cart}</span> <span class=hljs-attr>removeItem</span>=<span class=hljs-string>{removeItem}</span> /></span>

-     <span class=hljs-tag>&lt;<span class=hljs-name>Button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"submit"</span>></span>Buy<span class=hljs-tag>&lt;/<span class=hljs-name>Button</span>></span>
+     <span class=hljs-tag>&lt;<span class=hljs-name>Button</span> <span class=hljs-attr>type</span>=<span class=hljs-string>"submit"</span> <span class=hljs-attr>onClick</span>=<span class=hljs-string>{()</span> =></span> alert(`Thank you!`)}>Buy<span class=hljs-tag>&lt;/<span class=hljs-name>Button</span>></span>
    <span class=hljs-tag>&lt;/<span class=hljs-name>Form</span>></span></span>
  );
}
<span class=hljs-comment>// ...</span></code></pre><p>En este ejemplo, <code>&lt;CartForm></code> es el componente desde el cuál accedimos al contexto utilizando nuestro <em>Consumer</em> <code>useConsumer</code>. En él, programamos lógica para poder ejecutar acciones como remover un <em>item</em> de la lita del carrito.</p> <pre class=language-jsx><code class=hljs><span class=hljs-comment>// App.js</span>

<span class=hljs-comment>// ...</span>
- <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartList</span>(<span class=hljs-params>{ cart }</span>) </span>{             <span class=hljs-comment>// Removed</span>
+ <span class=hljs-function><span class=hljs-keyword>function</span> <span class=hljs-title>CartList</span>(<span class=hljs-params>{ cart, removeItem }</span>) </span>{ <span class=hljs-comment>// Added</span>
  <span class=hljs-comment>/*
   * Finalmente consumimos a cart
   */</span>
  <span class=hljs-keyword>return</span> (
    <span class=xml><span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>className</span>=<span class=hljs-string>{</span>`<span class=hljs-attr>p-2</span>`}></span>
      {cart.map((item, index) => (
        <span class=hljs-tag>&lt;<span class=hljs-name>div</span> <span class=hljs-attr>key</span>=<span class=hljs-string>{index}</span>></span>
-         <span class=hljs-tag>&lt;<span class=hljs-name>span</span> <span class=hljs-attr>style</span>=<span class=hljs-string>{{</span> <span class=hljs-attr>color:</span> `<span class=hljs-attr>red</span>`, <span class=hljs-attr>cursor:</span> `<span class=hljs-attr>pointer</span>` }}></span>[x]<span class=hljs-tag>&lt;/<span class=hljs-name>span</span>></span>
+         <span class=hljs-tag>&lt;<span class=hljs-name>span</span> <span class=hljs-attr>style</span>=<span class=hljs-string>{{</span> <span class=hljs-attr>color:</span> `<span class=hljs-attr>red</span>`, <span class=hljs-attr>cursor:</span> `<span class=hljs-attr>pointer</span>` }} <span class=hljs-attr>onClick</span>=<span class=hljs-string>{()</span> =></span> removeItem(index)}>[x]<span class=hljs-tag>&lt;/<span class=hljs-name>span</span>></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>span</span> <span class=hljs-attr>className</span>=<span class=hljs-string>{</span>`<span class=hljs-attr>mx-1</span>`} /></span>
          <span class=hljs-tag>&lt;<span class=hljs-name>span</span>></span>{item.name}<span class=hljs-tag>&lt;/<span class=hljs-name>span</span>></span>
        <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span>
      ))}
    <span class=hljs-tag>&lt;/<span class=hljs-name>div</span>></span></span>
  );
}
<span class=hljs-comment>// ...</span></code></pre><p>Te preguntarás, ¿Por qué consumir el <em>State</em> únicamente en el componente <code>&lt;CartForm /></code> y no también en <code>&lt;CartList></code>? La respuesta es simple. El <em>React Context</em> es una herramienta muy poderosa, pero no significa que debamos usarla para todo.</p> <p>En nuestro ejemplo, es más importante mantener el componente <code>&lt;CartList></code> reusable, de esta forma, si tenemos que renderizar la lista en otro lado, no dependeremos del contexto que creamos aquí.</p> <p>Puedes ver la Aplicación resultante abajo:</p> <iframe allow="accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking" sandbox="allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts" src="https://codesandbox.io/embed/boring-pasteur-gx6vs?fontsize=14&hidenavigation=1&moduleview=1&theme=dark" style=width:100%;height:500px;border:0;border-radius:4px;overflow:hidden title=boring-pasteur-gx6vs></iframe> <br> <h2 id=conclusión>Conclusión</h2> <p>Espero te haya sido de utilidad este Post. Seguramente verás como más y más proyectos utilizan las APIs nativas de React para manejar varibles globales, en lugar de instalar librerías de terceros.</p> <p>Únicamente ten en cuenta que estás son meramente herramientas, y no hay una sola que sea perfecta para cada caso de uso. En el ejemplo, tomamos la decisión de dejar el componente presentacional <code>&lt;CartList></code> independiente para poder usarlo en otros contextos sin problemas.</p> <h2 id=referencias>Referencias</h2> <ul> <li><a href=https://reactjs.org/docs/context.html>Context</a></li> <li><a href=https://reactjs.org/docs/hooks-reference.html#usereducer>useReducer</a></li> <li><a href="https://www.youtube.com/watch?v=rFnfvhtrNbQ">React Context Explained (2020)</a></li> <li><a href=https://kentcdodds.com/blog/how-to-use-react-context-effectively>How to use React Context effectively</a></li> </ul> </article></main></div></div> <div class="col-span-4 sm:col-span-1"><div class=box-border><main class=py-8><p class="text-xs text-gray-400 tracking-wide uppercase">No entries</main></div></div></div></div></div> <footer class="box-border border-t px-4"><div class="container mx-auto py-8 text-sm">2021 © Mario Menjívar</div></footer></div></div></div> <script>__SAPPER__={baseUrl:"",preloaded:[void 0,null,{post:{author:"Mario Menjívar",slug:"como-trabajar-con-react-context-y-hooks",title:"Cómo trabajar con React Context y Hooks",timestamp:"2021-04-04T09:07:02.000-08:00",brief:"Esta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde _Class Components_ a _Hooks_. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto.",keywords:"react,español,context,cómo usar react context,user,blog,hooks,reemplazar redux,dejar de usar redux,redux,reducer,state",cover:"https:\u002F\u002Fimgur.com\u002F5ZmbSG2.png",endpoint:"2021\u002F04\u002F04\u002Fcomo-trabajar-con-react-context-y-hooks",content:"\u003Ch1 id=\"cómo-trabajar-con-react-context-y-hooks\"\u003ECómo trabajar con React Context y Hooks\u003C\u002Fh1\u003E\n\u003Cp\u003EEsta mañana, por curiosidad, leía la fechas de lanzamientos de algunas de las herramientas que hoy damos por hecho. React, por ejemplo, fue lanzado el 29 de mayo del año 2013. En estos casi 10 años, hemos visto la evolución de este ecosistema, desde \u003Cem\u003EClass Components\u003C\u002Fem\u003E a \u003Cem\u003EHooks\u003C\u002Fem\u003E. Hoy, te mostraré cómo hacer uso de una de las últimas características añadidas a este popular Framework: el contexto.\u003C\u002Fp\u003E\n\u003Ch2 id=\"hold-on\"\u003EHold on\u003C\u002Fh2\u003E\n\u003Cp\u003EPara ser prácticos, estoy asumiendo que:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EYa conoces cómo funcionan los \u003Cem\u003EHooks\u003C\u002Fem\u003E.\u003C\u002Fli\u003E\n\u003Cli\u003EYa haz trabajado con librerías de Estado global (por ejemplo, \u003Cem\u003ERedux\u003C\u002Fem\u003E).\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003ESi este no es tu caso, igual quédate. Nos vamos a divertir.\u003C\u002Fp\u003E\n\u003Ch2 id=\"ok-react-context\"\u003EOk, React Context\u003C\u002Fh2\u003E\n\u003Cp\u003E\u003Cem\u003EIn a nutshell\u003C\u002Fem\u003E, \u003Cem\u003EReact Context\u003C\u002Fem\u003E nos permite compartir el \u003Cem\u003EState\u003C\u002Fem\u003E de nuestra aplicación a través del árbol de componentes sin tener que \u003Cem\u003Epasar\u003C\u002Fem\u003E las propiedades explicítamente por cada uno de ellos. Pero... ¿Por qué querríamos acceder a las propiedades sin tener que pasarlas explícitamente?\u003C\u002Fp\u003E\n\u003Cp\u003EVeamos el siguiente ejemplo, un carrito de compras:\u003C\u002Fp\u003E\n\u003Cpre class='language-jsx'\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F App.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E React \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;react&quot;\u003C\u002Fspan\u003E;\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E { Container, Row, Col, Form } \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;reactstrap&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EApp\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E [cart] = React.useState([{ \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`iPad`\u003C\u002Fspan\u003E }, { \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`OnePlus 9`\u003C\u002Fspan\u003E }]);\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E [user] = React.useState({ \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`Mario`\u003C\u002Fspan\u003E });\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * En nuestra App, aquí tenemos el origen de datos\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ELayout\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{cart}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Euser\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{user}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E;\n}\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ELayout\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart, user }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Construímos el esqueleto de la interfaz\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EContainer\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ERow\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECol\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECartForm\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{cart}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Euser\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{user}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ECol\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003ERow\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EContainer\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartForm\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart, user }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Aquí consumimos a user, pero no a cart\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003ECarrito de {user.name}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECartList\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{cart}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;submit&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EBuy\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ebutton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartList\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Finalmente consumimos a cart\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EclassName\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E`\u003Cspan class=\"hljs-attr\"\u003Ep-2\u003C\u002Fspan\u003E`}&gt;\u003C\u002Fspan\u003E\n      {cart.map((item, index) =&gt; (\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{index}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estyle\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecolor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Ered\u003C\u002Fspan\u003E`, \u003Cspan class=\"hljs-attr\"\u003Ecursor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Epointer\u003C\u002Fspan\u003E` }}&gt;\u003C\u002Fspan\u003E[x]\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EclassName\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E`\u003Cspan class=\"hljs-attr\"\u003Emx-1\u003C\u002Fspan\u003E`} \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{item.name}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      ))}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ESeguro notaste como los \u003Cem\u003EStates\u003C\u002Fem\u003E \u003Cstrong\u003E\u003Cem\u003Euser\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E y \u003Cstrong\u003E\u003Cem\u003Ecart\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E tienen que \u003Cem\u003Epasar\u003C\u002Fem\u003E por todos los componentes del árbol para llegar a los componentes dónde realmente serán de utilidad. Creéme cuando te digo que esto puede complicarse aún más.\u003C\u002Fp\u003E\n\u003Cp\u003E¿No sería más sencillo poder acceder a ellos justo dónde los necesitemos?\u003C\u002Fp\u003E\n\u003Ch2 id=\"provider-consumer-usereducer-y-usecontext\"\u003EProvider, Consumer, useReducer y useContext\u003C\u002Fh2\u003E\n\u003Cp\u003EYa que tengo tu atención, vamos a introducir unos cuantos conceptos:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EProvider\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Como su nombre lo sugiere (proveedor en español), es el componente que proveerá los datos a \u003Cem\u003Etodos\u003C\u002Fem\u003E sus componentes hijos. Es aquí dónde el \u003Cem\u003EState\u003C\u002Fem\u003E vivirá.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EConsumer\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Con él, cada nodo (o componente) que puede acceder al \u003Cem\u003EState\u003C\u002Fem\u003E que vive en el \u003Cem\u003EProvider\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EEstos dos conceptos son fundamentales para entender lo qué sucede al implementar React Context en tu aplicación. Sin embargo, el título de este artículo tiene un &quot;y Hooks&quot; al final. Así que debemos presentar los siguientes Hooks:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EuseReducer\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Si has utilizado \u003Cem\u003ERedux\u003C\u002Fem\u003E, ya conoces el próposito de un \u003Cem\u003Ereducer\u003C\u002Fem\u003E. Es una función que recibe dos parametros, el \u003Cem\u003Estate\u003C\u002Fem\u003E actual y una \u003Cem\u003Eaction\u003C\u002Fem\u003E. Con estos dos párametros, podemos organizar la forma en cómo el \u003Cem\u003EState\u003C\u002Fem\u003E será actualizado \u003Cem\u003Ereduciendo\u003C\u002Fem\u003E las actualizaciones a casos. Los utilizaremos aquí junto con \u003Cem\u003EuseContext\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EuseContext\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: \u003Cem\u003EIn a nutshell\u003C\u002Fem\u003E, este Hook actúa como un \u003Cem\u003EConsumer\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Ch2 id=\"ah-sí-el-context\"\u003EAh sí, el Context\u003C\u002Fh2\u003E\n\u003Cp\u003ELo siguiente en nuestra lista es:\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003EConfigurar un Contexto\u003C\u002Fli\u003E\n\u003Cli\u003EEstablece una forma de actualizar\u003C\u002Fli\u003E\n\u003Cli\u003EConsumirlo\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPara eso, necesitamos el siguiente script. Encontrarás comentarios explícativos.\u003C\u002Fp\u003E\n\u003Cpre class='language-jsx'\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F context.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-keyword\"\u003Eimport\u003C\u002Fspan\u003E React \u003Cspan class=\"hljs-keyword\"\u003Efrom\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E&quot;react&quot;\u003C\u002Fspan\u003E;\n\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E StateContext = React.createContext();\n\u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E DispatchContext = React.createContext();\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003Ereducer\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Estate, action\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-keyword\"\u003Eswitch\u003C\u002Fspan\u003E (action.type) {\n    \u003Cspan class=\"hljs-keyword\"\u003Ecase\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-string\"\u003E`REMOVE_ITEM`\u003C\u002Fspan\u003E:\n      \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E index = \u003Cspan class=\"hljs-built_in\"\u003ENumber\u003C\u002Fspan\u003E(action.data.index);\n      \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E {\n        ...state,\n        \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E: [...state.cart.slice(\u003Cspan class=\"hljs-number\"\u003E0\u003C\u002Fspan\u003E, index), ...state.cart.slice(index + \u003Cspan class=\"hljs-number\"\u003E1\u003C\u002Fspan\u003E)],\n      };\n\n    \u003Cspan class=\"hljs-keyword\"\u003Edefault\u003C\u002Fspan\u003E:\n      \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E state;\n  }\n}\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EProvider\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ children }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Creamos un State usando el hook useReducer\n   * De esta manera, obtenemos la habilidad de separar nuestra lógica\n   * En acciones.\n   *\n   * Ver: https:\u002F\u002Fes.reactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E [state, dispatch] = React.useReducer(reducer, {\n    \u003Cspan class=\"hljs-attr\"\u003Euser\u003C\u002Fspan\u003E: { \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`Mario`\u003C\u002Fspan\u003E },\n    \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E: [\n      { \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`iPad Air`\u003C\u002Fspan\u003E },\n      { \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`OnePlus 9`\u003C\u002Fspan\u003E },\n      { \u003Cspan class=\"hljs-attr\"\u003Ename\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`Thinpad X1 Carbo 9 Gen`\u003C\u002Fspan\u003E },\n    ],\n  });\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Establecemos 2 Providers\n   * 1 para proveer el State\n   * 1 para proveer la función Dispatch\n   *\n   * Esto es así, ya que la función Dispatch nunca cambiará\n   * Por esta razón, la separamos del resto del State\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EStateContext.Provider\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{state}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EDispatchContext.Provider\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Evalue\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{dispatch}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        {children}\n      \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EDispatchContext.Provider\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EStateContext.Provider\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\n\u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EuseConsumer\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Finalmente, hacemos uso del Hook useContext\n   * para consumir el State que reside en cada Provider\n   *\n   * La razón por la que es un Array es para darle el formato\n   * de un custom Hook.\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E [\n    React.useContext(StateContext),\n    React.useContext(DispatchContext),\n  ].map(\u003Cspan class=\"hljs-function\"\u003E(\u003Cspan class=\"hljs-params\"\u003Ectx\u003C\u002Fspan\u003E) =&gt;\u003C\u002Fspan\u003E {\n    \u003Cspan class=\"hljs-keyword\"\u003Eif\u003C\u002Fspan\u003E (ctx === \u003Cspan class=\"hljs-literal\"\u003Eundefined\u003C\u002Fspan\u003E) \u003Cspan class=\"hljs-keyword\"\u003Ethrow\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-keyword\"\u003Enew\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-built_in\"\u003EError\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-string\"\u003E`Provider not found`\u003C\u002Fspan\u003E);\n    \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E ctx;\n  });\n}\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F*\n * Exportamos\n *\u002F\u003C\u002Fspan\u003E\n\u003Cspan class=\"hljs-keyword\"\u003Eexport\u003C\u002Fspan\u003E { Provider, useConsumer };\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEn el script anterior, nos encontramos con 3 funciones importantes.\u003C\u002Fp\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EProvider\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Más que una función, un tipo. Para ser más específicos, un componente de React. Este componente proveerá el \u003Cem\u003EState\u003C\u002Fem\u003E global.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003EuseConsumer\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Más que una función, un custom Hook. Con él, consumiremos el \u003Cem\u003EState\u003C\u002Fem\u003E en los hijos del componente \u003Ccode\u003E&lt;Provider \u002F&gt;\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Cp\u003E\u003Cstrong\u003E\u003Cem\u003Ereducer\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E: Nuestra función \u003Cstrong\u003E\u003Cem\u003Ereducer\u003C\u002Fem\u003E\u003C\u002Fstrong\u003E. Con ella, organizaremos cómo actualizaremos nuestro \u003Cem\u003EState\u003C\u002Fem\u003E.\u003C\u002Fp\u003E\n\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n\u003Cp\u003EPor último, exportamos únicamente lo que usaremos en los componentes dónde necesitemos el \u003Cem\u003EState\u003C\u002Fem\u003E. En nuestro script \u003Ccode\u003EApp.js\u003C\u002Fcode\u003E.\u003C\u002Fp\u003E\n\u003Cpre class='language-jsx'\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F App.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n- \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartForm\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart, user }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{       \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Removed\u003C\u002Fspan\u003E\n+ \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartForm\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E\u003C\u002Fspan\u003E)) \u003C\u002Fspan\u003E{                    \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Added\u003C\u002Fspan\u003E\n\n+  \u003Cspan class=\"hljs-keyword\"\u003Econst\u003C\u002Fspan\u003E [state, dispatch] = useConsumer();\n\n+  \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003EremoveItem\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003Eindex\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{\n+    dispatch({ \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E: \u003Cspan class=\"hljs-string\"\u003E`REMOVE_ITEM`\u003C\u002Fspan\u003E, \u003Cspan class=\"hljs-attr\"\u003Edata\u003C\u002Fspan\u003E: { index } });\n+  }\n\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Aquí consumimos a user, pero no a cart\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n-     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003ECarrito de {user.name}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n+     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003ECarrito de {state.user.name}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Eh1\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n\n-     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECartList\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{state.cart}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EremoveItem\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{removeItem}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n+     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003ECartList\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecart\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{state.cart}\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EremoveItem\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{removeItem}\u003C\u002Fspan\u003E \u002F&gt;\u003C\u002Fspan\u003E\n\n-     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EButton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;submit&quot;\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003EBuy\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EButton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n+     \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003EButton\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Etype\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E&quot;submit&quot;\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EonClick\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{()\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E alert(`Thank you!`)}&gt;Buy\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EButton\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003EForm\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003EEn este ejemplo, \u003Ccode\u003E&lt;CartForm&gt;\u003C\u002Fcode\u003E es el componente desde el cuál accedimos al contexto utilizando nuestro \u003Cem\u003EConsumer\u003C\u002Fem\u003E \u003Ccode\u003EuseConsumer\u003C\u002Fcode\u003E. En él, programamos lógica para poder ejecutar acciones como remover un \u003Cem\u003Eitem\u003C\u002Fem\u003E de la lita del carrito.\u003C\u002Fp\u003E\n\u003Cpre class='language-jsx'\u003E\u003Ccode class=\"hljs\"\u003E\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F App.js\u003C\u002Fspan\u003E\n\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\n- \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartList\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{             \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Removed\u003C\u002Fspan\u003E\n+ \u003Cspan class=\"hljs-function\"\u003E\u003Cspan class=\"hljs-keyword\"\u003Efunction\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-title\"\u003ECartList\u003C\u002Fspan\u003E(\u003Cspan class=\"hljs-params\"\u003E{ cart, removeItem }\u003C\u002Fspan\u003E) \u003C\u002Fspan\u003E{ \u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F Added\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-comment\"\u003E\u002F*\n   * Finalmente consumimos a cart\n   *\u002F\u003C\u002Fspan\u003E\n  \u003Cspan class=\"hljs-keyword\"\u003Ereturn\u003C\u002Fspan\u003E (\n    \u003Cspan class=\"xml\"\u003E\u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EclassName\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E`\u003Cspan class=\"hljs-attr\"\u003Ep-2\u003C\u002Fspan\u003E`}&gt;\u003C\u002Fspan\u003E\n      {cart.map((item, index) =&gt; (\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ekey\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{index}\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n-         \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estyle\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecolor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Ered\u003C\u002Fspan\u003E`, \u003Cspan class=\"hljs-attr\"\u003Ecursor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Epointer\u003C\u002Fspan\u003E` }}&gt;\u003C\u002Fspan\u003E[x]\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n+         \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Estyle\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{{\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003Ecolor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Ered\u003C\u002Fspan\u003E`, \u003Cspan class=\"hljs-attr\"\u003Ecursor:\u003C\u002Fspan\u003E `\u003Cspan class=\"hljs-attr\"\u003Epointer\u003C\u002Fspan\u003E` }} \u003Cspan class=\"hljs-attr\"\u003EonClick\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{()\u003C\u002Fspan\u003E =&gt;\u003C\u002Fspan\u003E removeItem(index)}&gt;[x]\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E \u003Cspan class=\"hljs-attr\"\u003EclassName\u003C\u002Fspan\u003E=\u003Cspan class=\"hljs-string\"\u003E{\u003C\u002Fspan\u003E`\u003Cspan class=\"hljs-attr\"\u003Emx-1\u003C\u002Fspan\u003E`} \u002F&gt;\u003C\u002Fspan\u003E\n          \u003Cspan class=\"hljs-tag\"\u003E&lt;\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E{item.name}\u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Espan\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n        \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\n      ))}\n    \u003Cspan class=\"hljs-tag\"\u003E&lt;\u002F\u003Cspan class=\"hljs-name\"\u003Ediv\u003C\u002Fspan\u003E&gt;\u003C\u002Fspan\u003E\u003C\u002Fspan\u003E\n  );\n}\n\u003Cspan class=\"hljs-comment\"\u003E\u002F\u002F ...\u003C\u002Fspan\u003E\u003C\u002Fcode\u003E\u003C\u002Fpre\u003E\u003Cp\u003ETe preguntarás, ¿Por qué consumir el \u003Cem\u003EState\u003C\u002Fem\u003E únicamente en el componente \u003Ccode\u003E&lt;CartForm \u002F&gt;\u003C\u002Fcode\u003E y no también en \u003Ccode\u003E&lt;CartList&gt;\u003C\u002Fcode\u003E? La respuesta es simple. El \u003Cem\u003EReact Context\u003C\u002Fem\u003E es una herramienta muy poderosa, pero no significa que debamos usarla para todo.\u003C\u002Fp\u003E\n\u003Cp\u003EEn nuestro ejemplo, es más importante mantener el componente \u003Ccode\u003E&lt;CartList&gt;\u003C\u002Fcode\u003E reusable, de esta forma, si tenemos que renderizar la lista en otro lado, no dependeremos del contexto que creamos aquí.\u003C\u002Fp\u003E\n\u003Cp\u003EPuedes ver la Aplicación resultante abajo:\u003C\u002Fp\u003E\n\u003Ciframe src=\"https:\u002F\u002Fcodesandbox.io\u002Fembed\u002Fboring-pasteur-gx6vs?fontsize=14&hidenavigation=1&moduleview=1&theme=dark\"\n  style=\"width:100%; height:500px; border:0; border-radius: 4px; overflow:hidden;\"\n  title=\"boring-pasteur-gx6vs\"\n  allow=\"accelerometer; ambient-light-sensor; camera; encrypted-media; geolocation; gyroscope; hid; microphone; midi; payment; usb; vr; xr-spatial-tracking\"\n  sandbox=\"allow-forms allow-modals allow-popups allow-presentation allow-same-origin allow-scripts\"\n\u003E\u003C\u002Fiframe\u003E\n\n\u003Cbr \u002F\u003E\n\n\u003Ch2 id=\"conclusión\"\u003EConclusión\u003C\u002Fh2\u003E\n\u003Cp\u003EEspero te haya sido de utilidad este Post. Seguramente verás como más y más proyectos utilizan las APIs nativas de React para manejar varibles globales, en lugar de instalar librerías de terceros.\u003C\u002Fp\u003E\n\u003Cp\u003EÚnicamente ten en cuenta que estás son meramente herramientas, y no hay una sola que sea perfecta para cada caso de uso. En el ejemplo, tomamos la decisión de dejar el componente presentacional \u003Ccode\u003E&lt;CartList&gt;\u003C\u002Fcode\u003E independiente para poder usarlo en otros contextos sin problemas.\u003C\u002Fp\u003E\n\u003Ch2 id=\"referencias\"\u003EReferencias\u003C\u002Fh2\u003E\n\u003Cul\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fcontext.html\"\u003EContext\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Freactjs.org\u002Fdocs\u002Fhooks-reference.html#usereducer\"\u003EuseReducer\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fwww.youtube.com\u002Fwatch?v=rFnfvhtrNbQ\"\u003EReact Context Explained (2020)\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003Cli\u003E\u003Ca href=\"https:\u002F\u002Fkentcdodds.com\u002Fblog\u002Fhow-to-use-react-context-effectively\"\u003EHow to use React Context effectively\u003C\u002Fa\u003E\u003C\u002Fli\u003E\n\u003C\u002Ful\u003E\n"}}]};if('serviceWorker' in navigator)navigator.serviceWorker.register('/service-worker.js');var s=document.createElement("script");try{new Function("if(0)import('')")();s.src="/client/client.af735bb3.js";s.type="module";s.crossOrigin="use-credentials";}catch(e){s.src="/client/shimport@1.0.1.js";s.setAttribute("data-main","/client/client.af735bb3.js")}document.head.appendChild(s)</script> 